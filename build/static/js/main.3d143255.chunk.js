(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{198:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),i=a(259),o=a(13),l=a(21),u=a(10),d=a(236),j=a(229),b=a(87),p=Object(j.a)({root:{backgroundColor:b.a[500],padding:0,margin:0,display:"flex",flexDirection:"row",justifyContent:"center"},navLink:{textDecoration:"none",fontWeight:"500",color:"white",fontSize:"16px",margin:"0 5px","&:hover":{cursor:"pointer",color:"#ec407a"}},logo:{textDecoration:"none",fontWeight:"500",color:"white",fontSize:"22px",margin:"0 5px","&:hover":{cursor:"pointer",color:"#ec407a"}},toolBar:{width:"100%",maxWidth:"1280px"},menu:{padding:"5px"},item:{margin:"10px"},icon:{margin:"0 7px 0 0 "},link:{textDecoration:"none",color:"black"}}),h=a(2),x=a(1),m=function(e,t){switch(t.type){case"LOGIN":return Object(h.a)(Object(h.a)({},e),{},{user:t.payload.user,token:t.payload.token});case"LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{user:null,token:null});default:return e}},g={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,token:localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):null},O=Object(n.createContext)(),f=function(e){var t=e.children,a=Object(n.useReducer)(m,g),r=Object(u.a)(a,2),s={state:r[0],dispatch:r[1]};return Object(x.jsx)(O.Provider,{value:s,children:t})},v=a(86),y=a(235),w=a(134),k=a(266),N=a(116),C=a.n(N),D=a(117),S=a.n(D),E=a(122),W=a.n(E),I=a(119),P=a.n(I),U=a(121),L=a.n(U),T=a(118),B=a.n(T),A=a(120),F=a.n(A);function G(e){var t=e.classes,a=e.handleLogout,n=e.open,r=e.handleClick,s=e.handleClose,c=e.user;return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:t.navLink,"aria-controls":"user menu","aria-haspopup":"true",onClick:r,children:"Open Menu"}),Object(x.jsxs)(w.a,{className:t.menu,id:"user menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(x.jsx)(o.b,{className:t.link,to:"/private-profile",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(C.a,{className:t.icon})," Profile"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/new-post",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(S.a,{className:t.icon})," New Post"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/my-posts/".concat(c.username),children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(B.a,{className:t.icon})," My Posts"]})}),"admin"===c.role?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.b,{className:t.link,to:"/pending-posts",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(P.a,{className:t.icon}),"Pending posts"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/denied-posts",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(F.a,{className:t.icon}),"Denied posts"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/ban-users",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(L.a,{className:t.icon}),"Ban users"]})})]}):null,Object(x.jsxs)(k.a,{className:t.item,onClick:a,children:[Object(x.jsx)(W.a,{className:t.icon})," Log-out"]})]})]})}var z=function(e){var t=e.user,a=e.token,n=e.handleLogout,r=e.open,s=e.handleClick,c=e.handleClose,i=p();return Object(x.jsxs)(y.a,{className:i.toolBar,variant:"dense",children:[Object(x.jsx)(o.c,{exact:!0,activeStyle:{textDecoration:"underline",color:v.a[500],fontWeight:"700"},className:i.navLink,to:"/",children:Object(x.jsx)("span",{className:i.logo,children:"Mike's Blog"})}),Object(x.jsx)("div",{style:{flexGrow:1}}),t&&a?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(G,{classes:i,handleLogout:n,open:r,handleClick:s,handleClose:c,user:t})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.c,{className:i.navLink,exact:!0,activeStyle:{textDecoration:"underline",textDecorationColor:v.a[500],fontWeight:"700"},to:"/login",children:"Log-in"}),Object(x.jsx)(o.c,{exact:!0,activeStyle:{textDecoration:"underline",textDecorationColor:v.a[500],fontWeight:"700"},className:i.navLink,to:"/register",children:"Register"})]})]})},_=function(){var e=p(),t=Object(n.useContext)(O),a=t.state,r=t.dispatch,s=a.user,c=a.token,i=Object(n.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],b=function(){j(null)};return Object(x.jsx)(d.a,{position:"sticky",className:e.root,children:Object(x.jsx)(z,{user:s,token:c,handleLogout:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),r({type:"LOGOUT"}),b()},open:l,handleClick:function(e){j(e.currentTarget)},handleClose:b})})},M=a(6),H=a.n(M),V=a(9),Y=a(16),R=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em",minHeight:"300px"},header:{margin:e.spacing(2,0)},paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},footer:{margin:e.spacing(6,0)},link:{textDecoration:"underline",color:"black","&:hover":{color:e.palette.primary.light}},button:{margin:e.spacing(2,0)},appBar:{position:"relative",backgroundColor:b.a[500]},toolBar:{minHeight:"30px"}}})),q=a(243),X=a(241),K=a(267),J=a(242),Q=a(137),Z=a(237),$=Object(j.a)((function(e){return{root:{display:"flex",margin:e.spacing(3,"auto"),justifyContent:"center"}}}));function ee(){var e=$();return Object(x.jsx)("div",{className:e.root,children:Object(x.jsx)(Z.a,{style:{display:"flex"},color:"secondary"})})}var te=a(262),ae=function(e){var t=e.values,a=e.handleChange,n=e.handleSubmit,r=R(),s=t.password,c=t.username,i=t.loading,l=t.error;return Object(x.jsx)(Q.a,{component:"div",className:r.main,children:Object(x.jsxs)("div",{className:r.paper,children:[Object(x.jsx)(Q.a,{component:"h1",variant:"h5",children:"Login"}),Object(x.jsxs)("form",{onSubmit:n,className:r.form,children:[Object(x.jsx)(K.a,{variant:"standard",margin:"normal",value:c,onChange:a,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0}),Object(x.jsx)(K.a,{variant:"standard",margin:"normal",value:s,onChange:a,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),i&&Object(x.jsx)(ee,{}),"string"===typeof l?Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:l}):"object"===typeof l?Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:l.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,Object(x.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Sign In"}),Object(x.jsxs)(J.a,{container:!0,className:r.footer,children:[Object(x.jsx)(J.a,{item:!0,xs:!0,children:Object(x.jsx)(o.b,{className:r.link,to:"/cannot-login",variant:"body2",children:"Can't login?"})}),Object(x.jsx)(J.a,{item:!0,children:Object(x.jsx)(o.b,{className:r.link,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})},ne=a(17),re=a.n(ne),se="https://mikes-blog01.herokuapp.com/api",ce=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.post("".concat(se,"/register"),{password:t,email:a,username:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.post("".concat(se,"/login"),{username:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(e){var t=e.history,a=Object(n.useContext)(O),r=a.dispatch,s=a.state,c=s.user,i=s.token;c&&i&&t.push("/");var o=R(),l=Object(n.useState)({username:"",password:"",loading:!1,error:!1,success:!1}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=j.username,m=j.password,g=function(){var e=Object(V.a)(H.a.mark((function e(a){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),b(Object(h.a)(Object(h.a)({},j),{},{loading:!0})),e.prev=2,e.next=5,ie(p,m);case 5:if(!(n=e.sent).data.errors){e.next=10;break}return s=[],n.data.errors.map((function(e){return s.push(e.msg)})),e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{error:s,loading:!1,success:!1})));case 10:!0===n.data.success&&(localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("token",JSON.stringify(n.data.token)),r({type:"LOGIN",payload:{user:n.data.user,token:n.data.token}}),t.push("/private-profile")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,success:!1,error:e.t0.response.data.message}));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(q.a,{maxWidth:"xs",className:o.root,children:Object(x.jsx)("div",{style:{marginTop:"15px"},children:Object(x.jsx)(ae,{values:j,handleChange:function(e){b(Object(h.a)(Object(h.a)({},j),{},Object(Y.a)({},e.target.name,e.target.value)))},handleSubmit:g})})})},le=function(e){var t=e.values,a=e.handleChange,n=e.handleSubmit,r=R(),s=t.username,c=t.email,i=t.password,l=t.loading,u=t.error,d=t.success;return Object(x.jsx)(Q.a,{component:"div",className:r.main,children:Object(x.jsxs)("div",{className:r.paper,children:[Object(x.jsx)(Q.a,{component:"h1",variant:"h5",children:"Register"}),Object(x.jsxs)("form",{onSubmit:n,className:r.form,children:[Object(x.jsxs)(J.a,{container:!0,spacing:3,children:[Object(x.jsx)(J.a,{item:!0,xs:12,children:Object(x.jsx)(K.a,{variant:"standard",value:s,onChange:a,fullWidth:!0,id:"username",label:"Username",name:"username"})}),Object(x.jsx)(J.a,{item:!0,xs:12,children:Object(x.jsx)(K.a,{variant:"standard",value:c,onChange:a,fullWidth:!0,id:"email",label:"Email Address",name:"email"})}),Object(x.jsx)(J.a,{item:!0,xs:12,children:Object(x.jsx)(K.a,{variant:"standard",onChange:a,value:i,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"})}),Object(x.jsx)(J.a,{item:!0,xs:12}),l&&Object(x.jsx)(ee,{}),"string"===typeof u?Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:u}):"object"===typeof u?Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:u.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(d)return Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"success",children:d})}()]}),Object(x.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Sign Up"}),Object(x.jsx)(J.a,{container:!0,justify:"flex-start",className:r.footer,children:Object(x.jsx)(J.a,{item:!0,children:Object(x.jsx)(o.b,{className:r.link,to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})},ue=function(e){var t=e.history,a=Object(n.useContext)(O).state,r=a.user,s=a.token;r&&s&&t.push("/");var c=R(),i=Object(n.useState)({username:"",password:"",email:"",loading:!1,error:!1,success:!1}),o=Object(u.a)(i,2),l=o[0],d=o[1],j=l.username,b=l.password,p=l.email,m=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(Object(h.a)(Object(h.a)({},l),{},{loading:!0})),e.prev=2,e.next=5,ce(b,p,j);case 5:if(!(a=e.sent).data.errors){e.next=10;break}return n=[],a.data.errors.map((function(e){return n.push(e.msg)})),e.abrupt("return",d(Object(h.a)(Object(h.a)({},l),{},{error:n,loading:!1,success:!1})));case 10:if(!0!==a.data.success){e.next=12;break}return e.abrupt("return",d(Object(h.a)(Object(h.a)({},l),{},{error:!1,loading:!1,success:a.data.message,username:"",password:"",email:""})));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),d(Object(h.a)(Object(h.a)({},l),{},{loading:!1,success:!1,error:e.t0.response.data.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(q.a,{maxWidth:"xs",className:c.root,children:Object(x.jsx)("div",{style:{marginTop:"15px"},children:Object(x.jsx)(le,{values:l,handleChange:function(e){d(Object(h.a)(Object(h.a)({},l),{},Object(Y.a)({},e.target.name,e.target.value)))},handleSubmit:m})})})})},de=a(244),je=a(245),be=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(2,0)},postsContainer:Object(Y.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(0)}),post:Object(Y.a)({margin:e.spacing(3,0),padding:e.spacing(2,4)},e.breakpoints.down("xs"),{padding:e.spacing(2,1)}),topHr:{borderColor:"gray",width:"80%"},hr:{borderColor:v.a[500],margin:e.spacing(3,0)},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},buttonLink:{textDecoration:"none","&:hover":{textDecoration:"underline"}},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center"},flexDiv2:{display:"flex",justifyContent:"center"},image:{height:"80px",margin:" 0 15px"},button:{margin:e.spacing(1,2),minWidth:"100px"},deleteButton:{margin:e.spacing(1,2),color:de.a[500]},updateButton:{margin:e.spacing(1,2),color:je.a[500]},appBar:{position:"relative",backgroundColor:b.a[500]},toolBar:{minHeight:"30px"},dialogFlex:{display:"flex",flexDirection:"column"},userDiv:{margin:e.spacing(2,0),display:"flex",alignItems:"center",overflowX:"auto"}}})),pe=a(123),he=a.n(pe),xe=a(138),me=a(85),ge=Object(j.a)((function(e){var t;return{search:(t={display:"flex",alignItems:"center",borderRadius:e.shape.borderRadius,backgroundColor:me.a[200],"&:hover":{backgroundColor:me.a[300]}},Object(Y.a)(t,e.breakpoints.down("xs"),{margin:e.spacing(4,2)}),Object(Y.a)(t,"margin",e.spacing(4,6)),t),searchIcon:{padding:e.spacing(0,2),height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}},inputInput:{display:"flex",flex:1}}})),Oe=function(e){var t=e.keyword,a=e.setKeyword,n=e.search,r=ge();return Object(x.jsxs)("div",{className:r.search,children:[Object(x.jsx)("div",{className:r.searchIcon,children:Object(x.jsx)(he.a,{onClick:n})}),Object(x.jsx)(xe.a,{onKeyUp:function(e){if("Enter"===e.key)return n()},value:t,onChange:function(e){return a(e.target.value)},placeholder:"Search\u2026",className:r.inputInput})]})},fe=a(265),ve=a(201),ye=a(246),we=a(247),ke=a(59),Ne=a.n(ke),Ce=a(260),De=function(e){var t=e.page,a=e.pages,n=e.handlePageChange;return Object(x.jsx)("div",{children:Object(x.jsx)(Q.a,{component:"div",style:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{count:a&&parseInt(a)>1&&parseInt(a),page:t||1,color:"primary",onChange:n})})})},Se=a.p+"static/media/banned.d962711f.jpg",Ee=function(e){var t=e.width,a=e.classes,r=e.displayUsers,s=e.handleClose,c=e.fetchUsers,i=e.values,l=e.handlePageChange,u=i.pages,j=i.page,b=i.users,p=i.loadingUsers;return Object(n.useEffect)((function(){c()}),[j]),Object(x.jsxs)(fe.a,{scroll:"paper",fullScreen:t<600,onClose:s,"aria-labelledby":"display-users",open:r,children:[t<600&&Object(x.jsx)(d.a,{className:a.appBar,children:Object(x.jsx)(y.a,{className:a.toolBar,children:Object(x.jsx)(ve.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(x.jsx)(Ne.a,{})})})}),Object(x.jsx)(ye.a,{id:"display-users",children:Object(x.jsx)(Q.a,{variant:"h5",align:"center",children:"Website Users"})}),Object(x.jsxs)(we.a,{children:[p?Object(x.jsx)(ee,{}):b&&b.length>0?Object(x.jsx)("div",{className:a.dialogFlex,children:b.map((function(e){return Object(x.jsxs)("div",{className:a.userDiv,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:a.image,src:e.banned?Se:e.images[0].url,alt:"Could not display image"})}),Object(x.jsx)("div",{children:Object(x.jsxs)(o.b,{className:a.link,to:"/public-user/".concat(e.username),children:[Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Username: "})," ",e.username]}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Email: "})," ",e.email]}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Status: "})," ",e.verified?"Active":"Not Verified"]})]})})]},e._id)}))}):Object(x.jsx)("p",{children:"No users found..."}),Object(x.jsx)(De,{page:j,pages:u,handlePageChange:l})]})]})},We="https://mikes-blog01.herokuapp.com/api",Ie=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat(We,"/user-profile"),{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n,r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(We,"/update-details/").concat(t),{username:n,about:r},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat(We,"/public-profile/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(We,"/forgot-username"),{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat(We,"/users?page=").concat(t,"&limit=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Be=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(We,"/forgot-password"),{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat(We,"/password-reset/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(We,"/password-reset"),{password:t,confirmPassword:a,resetPasswordToken:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.put("".concat(We,"/ban/").concat(a),{banned:n},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ze=function(e){var t=e.keyword,a=e.setKeyword,r=e.search,s=e.classes,c=e.width,i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({users:[],page:null,pages:"",loadingUsers:!1,usersError:!1}),b=Object(u.a)(j,2),p=b[0],m=b[1],g=p.page,O=function(){var e=Object(V.a)(H.a.mark((function e(t,a){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(h.a)(Object(h.a)({},p),{},{loadingUsers:!0})),e.prev=1,e.next=4,Te(g);case 4:n=e.sent,r=n.data,m(Object(h.a)(Object(h.a)({},p),{},{loading:!1,users:r.users,pages:r.pages,error:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m(Object(h.a)(Object(h.a)({},p),{},{loading:!1,error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsxs)(J.a,{container:!0,children:[Object(x.jsx)(J.a,{item:!0,xs:12,children:Object(x.jsx)(Q.a,{component:"div",align:"center",children:Object(x.jsx)(Oe,{keyword:t,setKeyword:a,search:r})})}),Object(x.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(Q.a,{align:"center",variant:"h6",children:"Here will be filtering options"})}),Object(x.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)("div",{className:s.flexDiv2,children:Object(x.jsx)(X.a,{className:s.button,onClick:function(){d(!0)},variant:"outlined",color:"secondary",children:"Display users"})})})]}),Object(x.jsx)(Ee,{width:c,displayUsers:l,handleClose:function(){d(!1)},classes:s,values:p,setValues:m,fetchUsers:O,handlePageChange:function(e,t){m(Object(h.a)(Object(h.a)({},p),{},{page:t}))}})]})},_e="https://mikes-blog01.herokuapp.com/api",Me=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/posts?page=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/unconfirmed-posts?page=").concat(t),{headers:{Authorization:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/denied-posts?page=").concat(t),{headers:{Authorization:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/confirmed-posts?page=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(_e,"/post"),{title:a,body:n},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),qe=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n,r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.put("".concat(_e,"/post/").concat(a),{title:n,body:r},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.delete("".concat(_e,"/post/").concat(a),{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/post/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/user-posts/").concat(t,"?page=").concat(a,"&limit=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(_e,"/all-user-posts/").concat(t,"?page=").concat(a,"&limit=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.post("".concat(_e,"/searchQuery?page=").concat(a),{keyword:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.put("".concat(_e,"/like/").concat(t),{},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),et=function(){var e=Object(V.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.put("".concat(_e,"/unlike/").concat(t),{},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tt=function(){var e=Object(V.a)(H.a.mark((function e(t,a,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.put("".concat(_e,"/changeStatus/").concat(a),{status:n},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),at=a(43),nt=a.n(at),rt=a(49),st=a(248),ct=a(249),it=Object(j.a)((function(e){return{deleteDialog:{margin:e.spacing(3)}}})),ot=function(e){var t=e.postId,a=e.handleClose,n=e.post,r=e.handleDelete,s=e.values,c=e.displayError,i=it(),o=s.deleteLoading;return Object(x.jsx)(fe.a,{open:t===n._id,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)(we.a,{className:i.deleteDialog,children:[c(),Object(x.jsxs)(st.a,{id:"alert-dialog-description",children:[Object(x.jsx)("h4",{style:{color:v.a[500]},children:"Are you sure you want to delete this blog?"}),Object(x.jsxs)("h3",{children:["Title: ",n.title]})]})]}),Object(x.jsx)(ct.a,{children:o?Object(x.jsx)(ee,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(X.a,{onClick:a,children:"Disagree"}),Object(x.jsx)(X.a,{onClick:r,color:"primary",autoFocus:!0,children:"Agree"})]})})]})})},lt=a(124),ut=a.n(lt),dt=a(97),jt=a.n(dt),bt=a(125),pt=a.n(bt),ht=a(80),xt=a.n(ht),mt=function(e){var t=e.user,a=e.classes,r=e.post,s=e.handleClickOpen,c=e.token,i=Object(n.useState)({like:!!t&&r.likes.includes(t._id),loading:!1,error:!1,likesCount:r.likes.length}),l=Object(u.a)(i,2),d=l[0],j=l[1],b=d.like,p=d.loading,m=d.error,g=d.likesCount,O=function(){var e=Object(V.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(h.a)(Object(h.a)({},d),{},{loading:!0})),e.prev=1,e.next=4,$e(r._id,c);case 4:t=e.sent,t.data.success&&j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:!1,like:!b,likesCount:g+1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(V.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(h.a)(Object(h.a)({},d),{},{loading:!0})),e.prev=1,e.next=4,et(r._id,c);case 4:t=e.sent,t.data.success&&j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:!1,like:!b,likesCount:g-1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)(Q.a,{component:"div",className:a.flexDiv,children:[m?Object(x.jsx)("span",{children:"We're sorry there is an error..."}):b?Object(x.jsx)(X.a,{onClick:function(){return f()},startIcon:Object(x.jsx)(jt.a,{}),className:a.button,variant:"contained",color:"primary",disabled:!t,children:p?"Loading..":"Unlike / "+g}):Object(x.jsx)(X.a,{onClick:function(){return O()},startIcon:Object(x.jsx)(jt.a,{}),className:a.button,variant:"outlined",color:"primary",disabled:!t,children:p?"Loading..":"Like / "+g}),Object(x.jsx)(X.a,{startIcon:Object(x.jsx)(ut.a,{}),className:a.button,variant:"outlined",color:"secondary",disabled:!t,children:"comment"}),t&&t._id===r.postedBy._id||t&&"admin"===t.role?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.b,{className:a.buttonLink,to:"/post-update/".concat(r._id),children:Object(x.jsx)(X.a,{startIcon:Object(x.jsx)(pt.a,{}),className:a.updateButton,variant:"outlined",children:"update"})}),Object(x.jsx)(X.a,{startIcon:Object(x.jsx)(xt.a,{}),className:a.deleteButton,variant:"outlined",onClick:s,children:"delete"})]}):null]})})},gt=a(269),Ot=a(240),ft=a(263),vt=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(2,0)},postsContainer:Object(Y.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(0)}),post:Object(Y.a)({margin:e.spacing(3,0),padding:e.spacing(2,4)},e.breakpoints.down("xs"),{padding:e.spacing(2,1)}),hr:{borderColor:v.a[500],margin:e.spacing(3,0)},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},buttonLink:{textDecoration:"none","&:hover":{textDecoration:"underline"}},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center"},flexDiv2:{display:"flex",justifyContent:"center"},image:{height:"80px",margin:" 0 15px"},button:{margin:e.spacing(3,2,2,2),minWidth:"100px"},dialogFlex:{display:"flex",flexDirection:"column"},userDiv:{margin:e.spacing(2,0),display:"flex",alignItems:"center",overflowX:"auto"},select:{width:"350px",maxWidth:"90%",margin:e.spacing(2,0)}}})),yt=function(e){var t=e.post,a=vt(),r=Object(n.useState)(t.status),s=Object(u.a)(r,2),c=s[0],i=s[1],o=Object(n.useContext)(O).state.token,l=Object(n.useState)({error:!1,loading:!1,message:!1}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=j.error,m=j.loading,g=j.message,f=function(){var e=Object(V.a)(H.a.mark((function e(){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(h.a)(Object(h.a)({},j),{},{loading:!0})),e.prev=1,e.next=4,tt(o,t._id,c);case 4:a=e.sent,n=a.data,b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,message:n.message})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsxs)(Ot.a,{className:a.select,children:[Object(x.jsx)(gt.a,{id:"status",children:"Select post status"}),Object(x.jsxs)(ft.a,{labelId:"status",value:c,onChange:function(e){i(e.target.value)},children:[Object(x.jsx)(k.a,{value:"Not confirmed",children:"Not confirmed"}),Object(x.jsx)(k.a,{value:"Confirmed",children:"Confirmed"}),Object(x.jsx)(k.a,{value:"Denied",children:"Denied"})]})]}),function(){if(p)return Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:p})}(),function(){if(g)return Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"success",children:g})}(),Object(x.jsx)(X.a,{onClick:f,variant:"contained",className:a.button,color:"primary",children:m?"Loading":"Save"})]})},wt=function(e){var t=e.post,a=e.classes,r=e.width,s=e.values,c=e.setValues,i=Object(n.useContext)(O).state,l=i.user,d=i.token,j=s.deleteError,b=Object(n.useState)(!1),p=Object(u.a)(b,2),m=p[0],g=p[1],f=function(){var e=Object(V.a)(H.a.mark((function e(){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{deleteLoading:!0})),e.prev=1,e.next=4,Xe(d,t._id);case 4:if(!e.sent.data.success){e.next=11;break}return e.next=8,Me();case 8:a=e.sent,n=a.data,c(Object(h.a)(Object(h.a)({},s),{},{deleteError:!1,posts:n.posts,deleteLoading:!1,pages:n.pages,setPostId:!1}));case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),401!==e.t0.response.status){e.next=17;break}return e.abrupt("return",c(Object(h.a)(Object(h.a)({},s),{},{deleteSuccess:!1,deleteError:"You are Unauthorized",deleteLoading:!1})));case 17:c(Object(h.a)(Object(h.a)({},s),{},{deleteSuccess:!1,deleteError:e.t0.response.data.message,deleteLoading:!1}));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Q.a,{component:"div",className:a.post,children:[Object(x.jsx)(o.b,{className:a.link,to:"/post/".concat(t._id),children:Object(x.jsx)(Q.a,{style:{marginBottom:"7px",textAlign:"center",color:v.a[500],background:v.a[50]},variant:r>600?"h5":"h6",children:t.title})}),Object(x.jsx)(Q.a,{style:{margin:"20px 0"},variant:"body1",children:t.body.length>=800?Object(x.jsxs)(x.Fragment,{children:[Object(rt.a)(t.body.substring(0,800)+" [...]"),Object(x.jsx)(o.b,{style:{color:v.a[500]},className:a.link,to:"/post/".concat(t._id),children:"Continue reading"})]}):Object(rt.a)(t.body.substring(0,800))}),Object(x.jsx)("hr",{className:a.hr}),Object(x.jsxs)(Q.a,{className:a.flexDiv,component:"div",align:"left",children:[Object(x.jsx)("div",{style:{marginBottom:"15px"},children:Object(x.jsx)("img",{className:a.image,src:t.postedBy.images[0].url,alt:"Could not display image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(o.b,{style:{display:"flex",width:"fit-content"},className:a.link,to:"/public-user/".concat(t.postedBy.username),children:Object(x.jsxs)(Q.a,{variant:"subtitle1",style:{overflowX:"auto",fontWeight:"600"},children:[t.postedBy.username," /",Object(x.jsx)("span",{style:{color:"GrayText"},children:t.postedBy.email})]})}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Views: "})," ",t.views," "]}),Object(x.jsx)(Q.a,{variant:"body2",style:{color:"GrayText"},children:nt()(t.createdAt).format("MMM Do YYYY")})]})]}),Object(x.jsx)(mt,{classes:a,user:l,token:d,post:t,handleClickOpen:function(){g(t._id)}}),l&&"admin"===l.role&&Object(x.jsx)(yt,{post:t})]}),Object(x.jsx)(ot,{displayError:function(){if(j)return Object(x.jsx)(te.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:j})},postId:m,handleClose:function(){g(!1),c(Object(h.a)(Object(h.a)({},s),{},{deleteError:!1}))},post:t,handleDelete:f,values:s})]})},kt=function(e){var t=e.posts,a=e.error,n=e.loading,r=e.width,s=e.values,c=e.setValues,i=e.getAllPosts,o=be();return Object(x.jsxs)("div",{className:o.postsContainer,children:[Object(x.jsx)(Q.a,{variant:"h6",align:"center",style:{color:"GrayText"},children:"Resent Blogs"}),Object(x.jsx)("hr",{className:o.mainHr}),n&&Object(x.jsx)(ee,{}),function(){if(a)return Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:a})}(),!n&&!a&&t.length>0?t.map((function(e){return Object(x.jsx)(wt,{post:e,classes:o,width:r,values:s,setValues:c,getAllPosts:i},e._id)})):Object(x.jsx)("p",{children:"No posts found.."})]})},Nt=function(e){var t=e.width,a=Object(n.useContext)(O).state,r=a.user,s=a.token;return Object(x.jsx)(Q.a,{component:"div",align:"left",children:Object(x.jsx)(Q.a,{variant:t<600?"subtitle1":"h5",children:r&&s?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"Hello"}),Object(x.jsxs)("span",{style:{fontWeight:"600",margin:"0 7px"},children:[r.username,","]}),Object(x.jsx)("span",{children:"Welcome back."})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"Hello Guest, please"}),Object(x.jsx)(o.b,{style:{margin:"0 7px",color:"black"},to:"/login",children:"log-in"}),Object(x.jsx)("span",{children:"if you want to post a new blog."})]})})})},Ct=function(){var e=be(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)({loading:!1,error:!1,posts:"",pages:"",page:null,queryPages:"",queryPage:null,deleteError:!1,deleteLoading:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],d=o.loading,j=o.error,b=o.posts,p=o.pages,m=o.page,g=o.queryPage,O=o.queryPages,f=Object(n.useState)(window.innerWidth),v=Object(u.a)(f,2),y=v[0],w=v[1],k=function(){w(window.innerWidth)},N=function(){var e=Object(V.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,Ye(m);case 4:!0===(t=e.sent).data.success&&l(Object(h.a)(Object(h.a)({},o),{},{error:!1,posts:t.data.posts,loading:!1,pages:t.data.pages,queryPage:null,queryPages:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,r){e.next=6;break}return e.next=5,N();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,Ze(r,g);case 8:t=e.sent,!0===(a=t.data).success&&l(Object(h.a)(Object(h.a)({},o),{},{error:!1,posts:a.posts,loading:!1,queryPages:a.pages,page:null,pages:""})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(window.scrollTo(0,0),!r)return N()}),[m]),Object(n.useEffect)((function(){if(window.scrollTo(0,0),r)return C()}),[g]),Object(n.useEffect)((function(){return window.addEventListener("resize",k),function(){return window.removeEventListener("resize",k)}}),[]),Object(x.jsx)(q.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)(Q.a,{component:"div",className:e.main,children:[Object(x.jsxs)("header",{children:[Object(x.jsx)(Nt,{width:y}),Object(x.jsx)(ze,{search:C,classes:e,keyword:r,setKeyword:s,width:y})]}),Object(x.jsx)("main",{children:Object(x.jsx)(kt,{posts:b,error:j,loading:d,width:y,values:o,setValues:l,getAllPosts:N})}),Object(x.jsxs)("footer",{children:[!r&&Object(x.jsx)(De,{page:m,pages:p,handlePageChange:function(e,t){l(Object(h.a)(Object(h.a)({},o),{},{page:t}))}}),r&&Object(x.jsx)(De,{page:g,pages:O,handlePageChange:function(e,t){l(Object(h.a)(Object(h.a)({},o),{},{queryPage:t}))}})]})]})})},Dt=a.p+"static/media/background3.a2eab525.jpg",St=Object(j.a)({root:{minHeight:"100vh",backgroundImage:"url(".concat(Dt,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center"}}),Et=a(258),Wt=a(133),It=Object(Wt.a)({palette:{primary:{main:v.a[500]},secondary:{main:b.a[500]}}});function Pt(){var e=Object(l.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Ut=a(84),Lt=function(e){var t=e.component,a=Object(Ut.a)(e,["component"]),r=Object(n.useContext)(O).state,s=r.user,c=r.token;return Object(x.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return s&&c?Object(x.jsx)(t,Object(h.a)({},e)):Object(x.jsx)(l.a,{to:"/login"})}}))},Tt=a(127),Bt=a.n(Tt),At=a(264),Ft=a(250),Gt=a(251),zt=a(126),_t=a.n(zt),Mt=function(e){var t=e.classes,a=e.values,n=e.setValues,r=a.images;return Object(x.jsxs)(At.a,{className:t.accordionStyle,children:[Object(x.jsx)(Ft.a,{expandIcon:Object(x.jsx)(_t.a,{}),"aria-controls":"panel2-content",id:"panel2-header",children:Object(x.jsx)("h3",{children:"User Images"})}),Object(x.jsx)(Gt.a,{className:t.accordionDetails,children:Object(x.jsx)("div",{className:t.imagesContainer,children:r&&r.length>0?r.map((function(e){return Object(x.jsx)("img",{"aria-controls":"imageMenu","aria-haspopup":"true",className:t.imageInContainer,src:e.url,onClick:function(t){return n(Object(h.a)(Object(h.a)({},a),{},{imgMenu:t.currentTarget,imgPublic_id:e.public_id}))},alt:"failed to upload"},e.public_id)})):null})})]})},Ht=function(e){var t=e.values,a=e.classes,n=e.handleImageChange,r=e.handleImageUpload,s=e.setValues,c=t.images,i=t.loading,o=t.error;return Object(x.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(x.jsxs)("div",{className:a.flexDiv,children:[i?Object(x.jsx)(ee,{}):Object(x.jsx)("img",{className:a.image,src:c.length>0&&c[0].url,alt:"Cannot show this image"}),Object(x.jsxs)("form",{onSubmit:r,children:[Object(x.jsx)("input",{style:{fontSize:"15px",display:"flex",padding:"10px 20px"},type:"file",accept:"image/*",name:"imagetoUpload",onChange:n}),i?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{style:{fontSize:"15px",display:"flex",margin:"5px 20px"},startIcon:Object(x.jsx)(Bt.a,{}),variant:"contained",className:a.button,type:"submit",color:"primary",children:"Upload Image"})]}),function(){if(o)return Object(x.jsx)(te.a,{style:{width:"fit-content",margin:"20px"},variant:"outlined",severity:"error",children:o})}(),Object(x.jsx)(Mt,{values:t,classes:a,setValues:s})]})})},Vt=Object(j.a)((function(e){var t;return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",minHeight:"500px",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em"},heading:{margin:e.spacing(3,0)},image:(t={display:"flex",margin:"20px auto",border:"1px solid"},Object(Y.a)(t,e.breakpoints.down("xs"),{maxWidth:"90%",maxHeight:"250px"}),Object(Y.a)(t,e.breakpoints.up("sm"),{maxWidth:"95%",maxHeight:"350px",minHeight:"300px"}),Object(Y.a)(t,"boxShadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px"),t),link:{textDecoration:"underline",color:"black","&:hover":{color:e.palette.primary.light}},flexDiv:{marginBottom:"30px",display:"flex",flexDirection:"column"},accordionStyle:{margin:"30px 20px 0 20px","& .MuiAccordionSummary-root":{minHeight:"30px",height:"30px"}},imagesContainer:{display:"flex",flexWrap:"wrap"},imageInContainer:{height:"80px",margin:"10px","&:hover":{border:"1px solid",cursor:"pointer"}},inputField:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"},marginBottom:"20px",width:"90%",margin:"15px 0"},detailsForm:{padding:"10px"},editorDiv:{width:"90%",margin:"20px auto"},table:{margin:e.spacing(2,"auto"),padding:e.spacing(2),overflowX:"auto",maxWidth:"95%"}}})),Yt=a(128),Rt=a.n(Yt),qt=a(129),Xt=a.n(qt),Kt=Object(j.a)({link:{textDecoration:"none",color:"black"},menu:{"& .MuiList-padding":{paddingTop:"5px"}},item:{margin:"10px"},icon:{margin:"0 7px 0 0 "}}),Jt=function(e){var t=e.values,a=e.setValues,n=e.imgMenu,r=e.handleImageDelete,s=e.handleProfileImage,c=Kt();return Object(x.jsxs)(w.a,{className:c.menu,id:"imageMenu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){return a(Object(h.a)(Object(h.a)({},t),{},{imgMenu:!1}))},children:[Object(x.jsxs)(k.a,{className:c.item,onClick:function(){return s()},children:[Object(x.jsx)(Xt.a,{className:c.icon})," Set as profile picture"]}),Object(x.jsxs)(k.a,{className:c.item,onClick:function(){return r()},children:[Object(x.jsx)(xt.a,{className:c.icon})," Delete"]})]})},Qt=function(e){var t=e.values,a=e.classes,n=e.handleChange,r=e.handleDetailsUpdate,s=t.username,c=t.about,i=t.rightGridLoading,o=t.rightGridError,l=t.successUpdate;return Object(x.jsxs)(Q.a,{component:"div",className:a.flexDiv,children:[Object(x.jsx)(Q.a,{variant:"h5",align:"center",style:{marginTop:"20px"},children:"Update Details"}),Object(x.jsxs)("form",{onSubmit:r,className:a.detailsForm,children:[Object(x.jsx)(K.a,{onChange:n,value:s,className:a.inputField,name:"username",label:"New User name",type:"text",helperText:"Enter new User name if you want to change it"}),Object(x.jsx)(K.a,{onChange:n,value:c,className:a.inputField,rows:5,multiline:!0,name:"about",label:"About myself",type:"text",helperText:"Write something about yourself"}),"string"===typeof o?Object(x.jsx)(te.a,{style:{margin:"20px 0"},variant:"outlined",severity:"error",children:o}):"object"===typeof o?Object(x.jsx)(te.a,{style:{margin:"20px 0"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:o.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(l)return Object(x.jsx)(te.a,{style:{margin:"20px 0"},variant:"outlined",severity:"success",children:l})}(),i?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{type:"submit",color:"primary",variant:"contained",children:"Update Details"})]})]})},Zt=function(){var e,t=Vt(),a=Object(n.useContext)(O).state,r=a.token,s=a.user,c=Object(n.useState)({username:"",email:"",images:[],about:"",error:!1,rightGridError:!1,loading:!1,rightGridLoading:!1,imageToUpload:"",imgPublic_id:"",imgMenu:!1,successUpdate:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],d=o.username,j=o.email,b=o.about,p=o.imageToUpload,m=o.imgPublic_id,g=o.imgMenu,f="https://mikes-blog01.herokuapp.com/api",v=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,Ie(r);case 4:t=e.sent,(a=t.data).success&&(n=a.user,l(Object(h.a)(Object(h.a)({},o),{},{username:n.username,email:n.email,about:n.about,images:n.images,loading:!1,error:!1}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),p){e.next=4;break}return e.abrupt("return",l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:"Please choose an image to upload"})));case 4:try{Rt.a.imageFileResizer(p,500,500,"auto",100,0,(function(e){re.a.post("".concat(f,"/uploadImages"),{image:e,email:j},{headers:{Authorization:r}}).then((function(e){var t=e.data;return l(Object(h.a)(Object(h.a)({},o),{},{images:t.imagesArray,loading:!1,error:!1}))})).catch((function(e){return l(Object(h.a)(Object(h.a)({},o),{},{error:e.response.data.message,loading:!1}))}))}),"base64")}catch(n){console.log(n),l(Object(h.a)(Object(h.a)({},a),{},{error:"Error accoured"}))}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,re.a.post("".concat(f,"/removeimage"),{imageId:m,email:j},{headers:{Authorization:r}});case 4:t=e.sent,a=t.data,l(Object(h.a)(Object(h.a)({},o),{},{images:a.imagesArray,error:!1,loading:!1,imgMenu:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),l(Object(h.a)(Object(h.a)({},o),{},{error:"Could not delete the image",loading:!1,imgMenu:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,re.a.post("".concat(f,"/setProfileImage"),{imageId:m,email:j},{headers:{Authorization:r}});case 4:t=e.sent,a=t.data,l(Object(h.a)(Object(h.a)({},o),{},{images:a.imagesArray,loading:!1,imgMenu:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),l(Object(h.a)(Object(h.a)({},o),{},{error:"Could not set profile image",imgMenu:!1,loading:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{rightGridLoading:!0})),e.prev=2,e.next=5,Pe(s._id,r,d,b);case 5:(a=e.sent).data.errors&&(n=[],a.data.errors.map((function(e){return n.push(e.msg)})),l(Object(h.a)(Object(h.a)({},o),{},{rightGridError:n,rightGridLoading:!1,successUpdate:!1}))),a.data.success&&l(Object(h.a)(Object(h.a)({},o),{},{rightGridError:!1,rightGridLoading:!1,successUpdate:"Details updated succefully.",username:a.data.user.username,about:a.data.user.about})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l(Object(h.a)(Object(h.a)({},o),{},{rightGridLoading:!1,rightGridError:e.t0.response.data.message,successUpdate:!1}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),Object(x.jsx)(q.a,{maxWidth:"lg",className:t.root,children:Object(x.jsxs)("div",{className:t.main,children:[Object(x.jsx)(Q.a,{className:t.heading,variant:"h4",align:"center",children:"User Profile"}),Object(x.jsxs)(J.a,{container:!0,children:[Object(x.jsx)(Ht,{setValues:l,values:o,classes:t,handleImageChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},{imageToUpload:e.target.files[0]}))},handleImageUpload:y}),Object(x.jsx)(Jt,{values:o,setValues:l,imgMenu:g,handleImageDelete:function(){return w()},handleProfileImage:function(){return k()}}),Object(x.jsx)(J.a,(e={item:!0},Object(Y.a)(e,"item",!0),Object(Y.a)(e,"xs",12),Object(Y.a)(e,"md",6),Object(Y.a)(e,"children",Object(x.jsx)(Qt,{classes:t,values:o,setValues:l,handleChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},Object(Y.a)({},e.target.name,e.target.value)))},handleDetailsUpdate:N})),e))]})]})})},$t=a(83),ea=function(){var e=Vt(),t=Object(n.useState)({title:"",body:"",error:!1,loading:!1,success:!1}),a=Object(u.a)(t,2),r=a[0],s=a[1],c=r.title,i=r.body,o=r.error,l=r.loading,d=r.success,j=Object(n.useContext)(O).state.token,b=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(Object(h.a)(Object(h.a)({},r),{},{loading:!0})),e.prev=2,e.next=5,Re(j,c,i);case 5:if(a=e.sent,!(n=a.data).errors){e.next=11;break}return o=[],n.errors.map((function(e){return o.push(e.msg)})),e.abrupt("return",s(Object(h.a)(Object(h.a)({},r),{},{error:o,loading:!1,success:!1})));case 11:n.success&&s(Object(h.a)(Object(h.a)({},r),{},{title:"",body:"",error:!1,success:n.message,loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),s(Object(h.a)(Object(h.a)({},r),{},{success:!1,error:"An error accoured",loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(q.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)("div",{className:e.main,children:[Object(x.jsx)(Q.a,{className:e.heading,variant:"h5",align:"center",children:"Create a new blog"}),Object(x.jsx)(Q.a,{component:"div",align:"center",children:Object(x.jsxs)("form",{onSubmit:b,children:["string"===typeof o?Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:o}):"object"===typeof o?Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:o.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(d)return Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"success",children:d})}(),Object(x.jsx)(K.a,{onChange:function(e){return s(Object(h.a)(Object(h.a)({},r),{},{title:e.target.value}))},value:c,className:e.inputField,name:"username",label:"Enter the blog title",type:"text"}),Object(x.jsx)("div",{className:e.editorDiv,children:Object(x.jsx)($t.a,{apiKey:"2q2bdjlqnx7i6d0lbkldb695k5mgi3j1j7wfsx4y5prpnd4s",value:i,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |              alignleft aligncenter alignright alignjustify |              bullist numlist outdent indent | removeformat | help"},onEditorChange:function(e,t){s(Object(h.a)(Object(h.a)({},r),{},{body:e}))}})}),l?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{color:"primary",variant:"contained",type:"submit",children:"Submit Blog"})]})})]})})},ta=function(e){var t=e.match,a=Vt(),r=Object(n.useState)({title:"",body:"",error:!1,loading:!0,success:!1}),s=Object(u.a)(r,2),c=s[0],i=s[1],o=c.title,l=c.body,d=c.error,j=c.loading,b=c.success,p=(c.active,Object(n.useContext)(O).state.token),m=t.params.id,g=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke(m);case 3:if(t=e.sent,!0!==(a=t.data).success){e.next=7;break}return e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,error:!1,title:a.post.title,body:a.post.body})));case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{success:!1,error:"An error accoured",loading:!1})));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=2,e.next=5,qe(p,m,o,l);case 5:if(a=e.sent,!(n=a.data).errors){e.next=11;break}return r=[],n.errors.map((function(e){return r.push(e.msg)})),e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{error:r,loading:!1,success:!1})));case 11:n.success&&i(Object(h.a)(Object(h.a)({},c),{},{title:"",body:"",error:!1,success:n.message,loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),i(Object(h.a)(Object(h.a)({},c),{},{success:!1,error:"An error accoured",loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){}),[]),Object(x.jsx)(q.a,{maxWidth:"lg",className:a.root,children:Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Q.a,{className:a.heading,variant:"h5",align:"center",children:"Update Blog"}),Object(x.jsx)(Q.a,{component:"div",align:"center",children:Object(x.jsxs)("form",{onSubmit:f,children:["string"===typeof d?Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:d}):"object"===typeof d?Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:d.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(b)return Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"success",children:b})}(),Object(x.jsx)(K.a,{onChange:function(e){return i(Object(h.a)(Object(h.a)({},c),{},{title:e.target.value}))},value:o,className:a.inputField,name:"username",label:"Enter the blog title",type:"text"}),Object(x.jsx)("div",{className:a.editorDiv,children:Object(x.jsx)($t.a,{apiKey:"2q2bdjlqnx7i6d0lbkldb695k5mgi3j1j7wfsx4y5prpnd4s",value:l,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |              alignleft aligncenter alignright alignjustify |              bullist numlist outdent indent | removeformat | help"},onEditorChange:function(e,t){i(Object(h.a)(Object(h.a)({},c),{},{body:e}))},onInit:g})}),j?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{color:"primary",variant:"contained",type:"submit",children:"Update Blog"})]})})]})})},aa=Object(j.a)((function(e){return{root:{margin:0,display:"flex",flexDirection:"column"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(5,0),textAlign:"center",color:v.a[500],background:v.a[50]},body:Object(Y.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(1)}),post:Object(Y.a)({margin:e.spacing(3,0),padding:e.spacing(2,4)},e.breakpoints.down("xs"),{padding:e.spacing(2,1)}),hr:{borderColor:v.a[500],margin:e.spacing(3,0)},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},buttonLink:{textDecoration:"none","&:hover":{textDecoration:"underline"}},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"left"},image:{height:"150px",marginLeft:"15px"},button:{margin:e.spacing(1,2),minWidth:"100px"},deleteButton:{margin:e.spacing(1,2),color:de.a[500]},updateButton:{margin:e.spacing(1,2),color:je.a[500]}}})),na=function(e){var t=e.postedBy,a=e.classes,n=e.width,r=e.createdAt,s=e.post,c=t.images,i=t.username,l=t.email;return Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:a.image,src:c[0].url,alt:"could not show the image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(o.b,{style:{display:"flex",width:"fit-content"},className:a.link,to:"/public-user/".concat(i),children:Object(x.jsxs)(Q.a,{variant:n>600?"h5":"subtitle1",style:{overflowX:"auto",fontWeight:"600",marginLeft:"20px"},children:[i," /",Object(x.jsx)("span",{style:{color:"GrayText"},children:l})]})}),Object(x.jsxs)(Q.a,{variant:"h6",style:{fontWeight:"600",overflowX:"auto",margin:"10px 0 0 20px",color:"black"},children:[Object(x.jsx)("span",{style:{color:"GrayText",marginRight:"5px"},children:"Views:"}),s.views]}),Object(x.jsx)(Q.a,{variant:"subtitle1",style:{overflowX:"auto",fontWeight:"600",margin:"10px 0 0 20px",color:"GrayText"},children:nt()(r).format("MMM Do YYYY")})]})]})},ra=function(e){var t=e.post,a=e.values,n=e.displayDeleteError,r=e.postId,s=e.handleClose,c=e.handleDelete,i=aa(),o=a.deleteLoading;return Object(x.jsx)(fe.a,{open:r===t._id,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)(we.a,{className:i.deleteDialog,children:[n(),Object(x.jsxs)(st.a,{id:"alert-dialog-description",children:[Object(x.jsx)("h4",{style:{color:v.a[500]},children:"Are you sure you want to delete this blog?"}),Object(x.jsxs)("h3",{children:["Title: ",t.title]})]})]}),Object(x.jsx)(ct.a,{children:o?Object(x.jsx)(ee,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(X.a,{onClick:s,children:"Disagree"}),Object(x.jsx)(X.a,{onClick:c,color:"primary",autoFocus:!0,children:"Agree"})]})})]})})},sa=function(e){var t=e.match,a=e.history,r=aa(),s=t.params.id,c=Object(n.useContext)(O).state,i=c.user,o=c.token,l=Object(n.useState)({title:"",body:"",postedBy:"",error:!1,loading:!0,success:!1,deleteLoading:!1,deleteError:!1,post:""}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=j.title,m=j.body,g=j.error,f=j.loading,v=j.postedBy,y=j.post,w=j.deleteError,k=Object(n.useState)(window.innerWidth),N=Object(u.a)(k,2),C=N[0],D=N[1],S=function(){D(window.innerWidth)},E=Object(n.useState)(!1),W=Object(u.a)(E,2),I=W[0],P=W[1],U=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(h.a)(Object(h.a)({},j),{},{loading:!0})),e.prev=1,e.next=4,Ke(s);case 4:if(t=e.sent,!0!==(a=t.data).success){e.next=8;break}return e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,error:!1,title:a.post.title,body:a.post.body,post:a.post,postedBy:a.post.postedBy})));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{success:!1,error:"An error accoured",loading:!1})));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(V.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(h.a)(Object(h.a)({},j),{},{deleteLoading:!0})),e.prev=1,e.next=4,Xe(o,y._id);case 4:e.sent.data.success&&a.push("/"),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{deleteSuccess:!1,deleteError:"You are Unauthorized",deleteLoading:!1})));case 12:b(Object(h.a)(Object(h.a)({},j),{},{deleteSuccess:!1,deleteError:e.t0.response.data.message,deleteLoading:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[]),Object(n.useEffect)((function(){return window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}}),[]),Object(x.jsxs)(q.a,{maxWidth:"lg",className:r.root,children:[function(){if(g)return Object(x.jsx)(te.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:g})}(),f?Object(x.jsx)(ee,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{component:"div",className:r.main,children:"Denied"===y.status?Object(x.jsx)(Q.a,{align:"center",style:{marginTop:"20px"},variant:C<600?"h6":"h4",children:"This post was denied by the admin"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{className:r.header,variant:C<600?"h6":"h4",children:p&&p}),Object(x.jsx)("div",{className:r.body,children:Object(x.jsx)(Q.a,{variant:"body1",children:m&&Object(rt.a)(m)})}),Object(x.jsx)("hr",{className:r.hr}),Object(x.jsx)("div",{style:{marginBottom:"15px"},children:Object(x.jsx)(na,{postedBy:v,createdAt:y.createdAt,classes:r,width:C,post:y})}),Object(x.jsx)(mt,{classes:r,user:i,post:y,token:o,postId:I,handleClickOpen:function(){P(y._id)}})]})}),Object(x.jsx)(ra,{displayDeleteError:function(){if(w)return Object(x.jsx)(te.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:w})},values:j,post:y,postId:I,handleClose:function(){P(!1),b(Object(h.a)(Object(h.a)({},j),{},{deleteError:!1}))},handleDelete:L})]})]})},ca=Object(j.a)((function(e){var t;return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",minHeight:"500px",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em"},heading:{margin:e.spacing(3,0)},image:(t={display:"flex",margin:"20px auto",border:"1px solid"},Object(Y.a)(t,e.breakpoints.down("xs"),{maxWidth:"90%",maxHeight:"250px"}),Object(Y.a)(t,e.breakpoints.up("sm"),{maxWidth:"95%",maxHeight:"350px",minHeight:"300px"}),Object(Y.a)(t,"boxShadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px"),t),link:{textDecoration:"none",color:e.palette.primary.main,marginBottom:e.spacing(5),"&:hover":{color:e.palette.primary.dark}},flexDiv:{marginBottom:"30px",display:"flex",flexDirection:"column",margin:e.spacing(2)},textField:{margin:"10px"}}})),ia=function(e){var t=e.profile,a=ca();return Object(x.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsx)("img",{className:a.image,src:t.images[0].url,alt:"Could not display image"}),Object(x.jsx)(Q.a,{variant:"h5",align:"center",className:a.textField,children:t.username}),Object(x.jsx)(Q.a,{variant:"h6",align:"center",className:a.textField,children:t.email}),Object(x.jsx)(Q.a,{variant:"body1",align:"center",className:a.textField,children:t.about})]})})},oa=function(e){var t=e.profile,a=e.values,r=e.setValues,s=ca(),c=a.postsLoading,i=a.postsError,l=a.page,u=a.pages,d=a.posts,j=function(){var e=Object(V.a)(H.a.mark((function e(){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Object(h.a)(Object(h.a)({},a),{},{postsLoading:!0})),e.prev=1,e.next=4,Je(t._id,l);case 4:n=e.sent,s=n.data,r(Object(h.a)(Object(h.a)({},a),{},{posts:s.posts,postsLoading:!1,pages:s.pages})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(Object(h.a)(Object(h.a)({},a),{},{postsLoading:!1,postsError:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){window.scrollTo(0,0),j()}),[l]),Object(x.jsxs)(J.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(Q.a,{variant:"h6",align:"center",style:{color:"black",margin:"20px 0",backgroundColor:v.a[50]},children:"Recent Blogs"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:s.flexDiv,children:[function(){if(i)return Object(x.jsx)(te.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:i})}(),c?Object(x.jsx)(ee,{}):d&&d.length>0&&d.map((function(e){return Object(x.jsxs)(o.b,{className:s.link,to:"/post/".concat(e._id),children:[Object(x.jsxs)(Q.a,{variant:"h6",children:[Object(x.jsx)("span",{style:{marginRight:"5px"},children:"Title: "}),e.title]},e._id),Object(x.jsxs)(Q.a,{variant:"body1",style:{color:"GrayText"},children:["Posted: ",nt()(e.createdAt).fromNow()]})]})}))]}),Object(x.jsx)(De,{page:l,pages:u,handlePageChange:function(e,t){r(Object(h.a)(Object(h.a)({},a),{},{page:t}))}})]})},la=function(e){var t=e.match,a=e.history,r=ca(),s=t.params.username,c=Object(n.useState)({profile:"",loading:!0,error:!1,page:"",pages:"",posts:[],postsError:!1,postsLoading:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],d=o.profile,j=o.error,b=o.loading,p=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue(s);case 3:t=e.sent,(a=t.data).success&&l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,profile:a.user})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),d.banned&&a.push("/banned-user"),Object(x.jsx)(q.a,{maxWidth:"lg",className:r.root,children:Object(x.jsxs)("div",{className:r.main,children:[Object(x.jsx)(Q.a,{className:r.heading,variant:"h4",align:"center",children:"Public Profile"}),function(){if(j)return Object(x.jsx)(te.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:j})}(),b?Object(x.jsx)(ee,{}):Object(x.jsxs)(J.a,{container:!0,children:[Object(x.jsx)(ia,{profile:d}),Object(x.jsx)(oa,{profile:d,values:o,setValues:l})]})]})})},ua=a(252),da=a(200),ja=a(253),ba=a(254),pa=a(255),ha=a(256),xa=a(257),ma=a(270),ga=function(){var e=Vt(),t=Object(n.useContext)(O).state.user,a=Object(n.useState)({loading:!0,error:!1,page:"",pages:"",posts:[]}),r=Object(u.a)(a,2),s=r[0],c=r[1],i=s.loading,l=s.error,d=s.page,j=s.pages,b=s.posts,p=function(){var e=Object(V.a)(H.a.mark((function e(){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{loading:!0})),e.prev=1,e.next=4,Qe(t._id,d,8);case 4:a=e.sent,n=a.data,c(Object(h.a)(Object(h.a)({},s),{},{posts:n.posts,loading:!1,pages:n.pages})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(Object(h.a)(Object(h.a)({},s),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){window.scrollTo(0,0),p()}),[d]);return Object(x.jsx)(q.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)("div",{className:e.main,children:[Object(x.jsx)(Q.a,{className:e.heading,variant:"h5",align:"center",children:t&&"".concat(t.username,"'s Posts")}),function(){if(l)return Object(x.jsx)(te.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:l})}(),i?Object(x.jsx)(ee,{}):Object(x.jsxs)(ua.a,{component:da.a,style:{padding:"10px 0"},children:[Object(x.jsxs)(ja.a,{className:e.table,"aria-label":"simple table",children:[Object(x.jsx)(ba.a,{children:Object(x.jsxs)(pa.a,{children:[Object(x.jsx)(ha.a,{align:"left",children:"Created At"}),Object(x.jsx)(ha.a,{align:"left",children:"Title"}),Object(x.jsx)(ha.a,{align:"left",children:"Status"})]})}),Object(x.jsx)(xa.a,{children:b&&b.length>0?b.map((function(t){return Object(x.jsxs)(pa.a,{children:[Object(x.jsx)(ha.a,{align:"left",children:nt()(t.createdAt).format("MM Do YYYY")}),Object(x.jsx)(ha.a,{align:"left",children:Object(x.jsx)(ma.a,{title:t.title,children:"Confirmed"===t.status?Object(x.jsx)(o.b,{className:e.link,to:"/post/".concat(t._id),children:t.title.length>=20?t.title.substring(0,20)+"...":t.title}):Object(x.jsx)("span",{style:{color:"gray"},children:t.title.length>=20?t.title.substring(0,20)+"...":t.title})})}),Object(x.jsx)(ha.a,{align:"left",children:"Not confirmed"===t.status?"Pending":t.status})]},t._id)})):Object(x.jsx)(pa.a,{children:Object(x.jsx)(ha.a,{children:"No posts found..."})})})]}),Object(x.jsx)(De,{page:d,pages:j,handlePageChange:function(e,t){c(Object(h.a)(Object(h.a)({},s),{},{page:t}))}})]})]})})},Oa=a(132),fa=a.n(Oa),va=a(131),ya=a.n(va),wa=function(e){var t=e.forgotUsername,a=e.handleCloseForgotUsername,n=e.width,r=e.classes,s=e.fetchUsername,c=e.handleChange,i=e.values,o=e.displayUsername,l=e.displayUsernameError,u=i.email,j=i.loadingUsername;return Object(x.jsxs)(fe.a,{fullScreen:n<600,onClose:a,"aria-labelledby":"forgot-username",open:t,children:[n<600&&Object(x.jsx)(d.a,{className:r.appBar,children:Object(x.jsx)(y.a,{className:r.toolBar,children:Object(x.jsx)(ve.a,{edge:"start",color:"inherit",onClick:a,"aria-label":"close",children:Object(x.jsx)(Ne.a,{})})})}),Object(x.jsx)(ye.a,{id:"forgot-username",children:Object(x.jsx)(Q.a,{variant:"h6",align:"center",children:"Did you forget your username?"})}),Object(x.jsxs)(we.a,{children:[Object(x.jsx)("p",{style:{color:"GrayText"},children:"Type your email address in order to see your username."}),Object(x.jsxs)("form",{onSubmit:s,children:[Object(x.jsx)(K.a,{variant:"standard",value:u,onChange:c,fullWidth:!0,id:"email",label:"Email Address",placeholder:"Your Email",name:"email"}),o(),l(),Object(x.jsx)(ct.a,{children:j?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{type:"submit",className:r.button,color:"primary",variant:"contained",fullWidth:!0,children:"Send"})})]})]})]})},ka=function(e){var t=e.width,a=e.classes,r=e.forgotPassword,s=e.handleCloseForgotPassword,c=Object(n.useState)({email:"",error:!1,loading:!1,success:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],j=o.email,b=o.error,p=o.loading,m=o.success,g=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=2,e.next=5,Be(j);case 5:if(a=e.sent,!(n=a.data).errors){e.next=11;break}return r=[],n.errors.map((function(e){return r.push(e.msg)})),e.abrupt("return",l(Object(h.a)(Object(h.a)({},o),{},{error:r,loading:!1,success:!1})));case 11:n.success&&l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:!1,success:n.message,email:""})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(fe.a,{fullScreen:t<600,onClose:s,"aria-labelledby":"forgot-username",open:r,children:[t<600&&Object(x.jsx)(d.a,{className:a.appBar,children:Object(x.jsx)(y.a,{className:a.toolBar,children:Object(x.jsx)(ve.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(x.jsx)(Ne.a,{})})})}),Object(x.jsx)(ye.a,{id:"forgot-username",children:Object(x.jsx)(Q.a,{variant:"h6",align:"center",children:"Did you forget your password?"})}),Object(x.jsxs)(we.a,{children:[Object(x.jsx)("p",{style:{color:"GrayText"},children:"Type your email address and we will send you password reset link."}),Object(x.jsxs)("form",{onSubmit:g,children:[Object(x.jsx)(K.a,{variant:"standard",value:j,onChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},{email:e.target.value}))},fullWidth:!0,id:"email",label:"Email Address",placeholder:"Your Email",name:"email"}),"string"===typeof b?Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:b}):"object"===typeof b?Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:b.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(m)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"success",children:m})}(),Object(x.jsx)(ct.a,{children:p?Object(x.jsx)(ee,{}):Object(x.jsx)(X.a,{type:"submit",className:a.button,color:"primary",variant:"contained",fullWidth:!0,children:"Send"})})]})]})]})},Na=function(e){var t=e.history,a=R(),r=Object(n.useContext)(O).state,s=r.user,c=r.token,i=Object(n.useState)({email:"",usernameError:!1,username:"",loadingUsername:!1}),l=Object(u.a)(i,2),d=l[0],j=l[1],b=d.email,p=d.usernameError,m=d.username;s&&c&&t.push("/");var g=Object(n.useState)(window.innerWidth),f=Object(u.a)(g,2),v=f[0],y=f[1],w=function(){y(window.innerWidth)},k=Object(n.useState)(!1),N=Object(u.a)(k,2),C=N[0],D=N[1],S=Object(n.useState)(!1),E=Object(u.a)(S,2),W=E[0],I=E[1];Object(n.useEffect)((function(){return window.addEventListener("resize",w),function(){return window.removeEventListener("resize",w)}}),[]);var P=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!0})),e.prev=2,e.next=5,Le(b);case 5:a=e.sent,n=a.data,j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!1,usernameError:!1,username:"The username for this email is ".concat(n.username)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!1,usernameError:e.t0.response.data.message,username:""}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(q.a,{maxWidth:"xs",className:a.root,children:[Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Q.a,{variant:"h6",align:"center",className:a.header,children:"Hello user how can we help you?"}),Object(x.jsxs)("div",{className:a.paper,children:[Object(x.jsx)(X.a,{onClick:function(){D(!0)},startIcon:Object(x.jsx)(ya.a,{}),className:a.button,variant:"outlined",color:"secondary",fullWidth:!0,children:"I have forgot my username"}),Object(x.jsx)(X.a,{onClick:function(){I(!0)},startIcon:Object(x.jsx)(fa.a,{}),className:a.button,variant:"outlined",color:"secondary",fullWidth:!0,children:"I have forgot my password"})]}),Object(x.jsx)("footer",{className:a.footer,children:Object(x.jsx)(o.b,{className:a.link,to:"/login",variant:"body2",style:{marginLeft:"15px"},children:"Back to login"})})]}),Object(x.jsx)(wa,{handleCloseForgotUsername:function(){D(!1)},forgotUsername:C,width:v,classes:a,values:d,handleChange:function(e){j(Object(h.a)(Object(h.a)({},d),{},{email:e.target.value}))},fetchUsername:P,displayUsername:function(){if(m)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"info",children:m})},displayUsernameError:function(){if(p)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:p})}}),Object(x.jsx)(ka,{width:v,classes:a,forgotPassword:W,handleCloseForgotPassword:function(){I(!1)}})]})},Ca=function(e){var t=e.match,a=R(),r=Object(n.useState)({loading:!1,error:!1,success:!1,message:"",password:"",confirmPassword:"",resetError:!1,resetSuccess:!1}),s=Object(u.a)(r,2),c=s[0],i=s[1],o=c.loading,l=c.error,d=c.success,j=c.password,b=c.confirmPassword,p=c.resetError,m=c.resetSuccess,g=t.params.resetPasswordToken,O=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=1,e.next=4,Ae(g);case 4:t=e.sent,(a=t.data).success&&i(Object(h.a)(Object(h.a)({},c),{},{error:!1,loading:!1,success:a.success,message:a.message})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(Object(h.a)(Object(h.a)({},c),{},{success:!1,loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);var f=function(e){i(Object(h.a)(Object(h.a)({},c),{},Object(Y.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=2,e.next=5,Fe(j,b,g);case 5:a=e.sent,(n=a.data).success&&i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,resetError:!1,resetSuccess:n.message,password:"",confirmPassword:""})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),i(Object(h.a)(Object(h.a)({},c),{},{resetSuccess:!1,loading:!1,resetError:e.t0.response.data.message}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(q.a,{maxWidth:"xs",className:a.root,children:Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Q.a,{variant:"h6",align:"center",className:a.header,children:"Password reset"}),o&&Object(x.jsx)(ee,{}),function(){if(l)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:l})}(),d?Object(x.jsxs)("form",{className:a.paper,onSubmit:v,children:[function(){if(p)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:p})}(),function(){if(m)return Object(x.jsx)(te.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"success",children:m})}(),Object(x.jsx)(K.a,{style:{margin:"10px 0"},variant:"standard",onChange:f,value:j,fullWidth:!0,name:"password",label:"New Password",type:"password"}),Object(x.jsx)(K.a,{style:{margin:"10px 0"},variant:"standard",onChange:f,value:b,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password"}),Object(x.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"confirm"})]}):null]})})},Da=function(){return Object(x.jsx)(Q.a,{component:"div",children:Object(x.jsx)(Q.a,{variant:"h4",align:"center",style:{marginTop:"50px",backgroundColor:"black",color:"white",padding:"5px"},children:"We're sorry this is admin resourse only!"})})},Sa=function(e){var t=e.component,a=Object(Ut.a)(e,["component"]),r=Object(n.useContext)(O).state,s=r.user,c=r.token;return Object(x.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return s&&c&&"admin"===s.role?Object(x.jsx)(t,Object(h.a)({},e)):Object(x.jsx)(l.a,{to:"/Authorization-error"})}}))},Ea=function(e){var t=e.post,a=e.classes,n=e.width;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(Q.a,{component:"div",className:a.post,children:[Object(x.jsx)(o.b,{className:a.link,to:"/post/".concat(t._id),children:Object(x.jsx)(Q.a,{style:{marginBottom:"7px",textAlign:"center",color:v.a[500],background:v.a[50]},variant:n>600?"h5":"h6",children:t.title})}),Object(x.jsx)(Q.a,{style:{margin:"20px 0"},variant:"body1",children:t.body.length>=800?Object(x.jsxs)(x.Fragment,{children:[Object(rt.a)(t.body.substring(0,800)+" [...]"),Object(x.jsx)(o.b,{style:{color:v.a[500]},className:a.link,to:"/post/".concat(t._id),children:"Continue reading"})]}):Object(rt.a)(t.body.substring(0,800))}),Object(x.jsx)("hr",{className:a.hr}),Object(x.jsxs)(Q.a,{className:a.flexDiv,component:"div",align:"left",children:[Object(x.jsx)("div",{style:{marginBottom:"15px"},children:Object(x.jsx)("img",{className:a.image,src:t.postedBy.images[0].url,alt:"Could not display image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(o.b,{style:{display:"flex",width:"fit-content"},className:a.link,to:"/public-user/".concat(t.postedBy.username),children:Object(x.jsxs)(Q.a,{variant:"subtitle1",style:{overflowX:"auto",fontWeight:"600"},children:[t.postedBy.username," /",Object(x.jsx)("span",{style:{color:"GrayText"},children:t.postedBy.email})]})}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Views: "})," ",t.views," "]}),Object(x.jsx)(Q.a,{variant:"body2",style:{color:"GrayText"},children:nt()(t.createdAt).format("MMM Do YYYY")})]})]}),Object(x.jsx)(yt,{post:t})]})})},Wa=function(e){var t=e.posts,a=e.error,n=e.loading,r=e.width,s=e.getAllPosts,c=vt();return Object(x.jsxs)("div",{className:c.postsContainer,children:[Object(x.jsx)(Q.a,{variant:"h6",align:"center",style:{color:"GrayText"},children:"Resent Blogs"}),Object(x.jsx)("hr",{className:c.mainHr}),n&&Object(x.jsx)(ee,{}),function(){if(a)return Object(x.jsx)(te.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:a})}(),!n&&!a&&t.length>0?t.map((function(e){return Object(x.jsx)(Ea,{post:e,classes:c,width:r,getAllPosts:s},e._id)})):Object(x.jsx)("p",{children:"No posts found.."})]})},Ia=function(){var e=vt(),t=Object(n.useContext)(O).state.token,a=Object(n.useState)({loading:!1,error:!1,posts:"",pages:"",page:null,selected:""}),r=Object(u.a)(a,2),s=r[0],c=r[1],i=s.loading,o=s.error,l=s.posts,d=s.pages,j=s.page,b=Object(n.useState)(window.innerWidth),p=Object(u.a)(b,2),m=p[0],g=p[1],f=function(){g(window.innerWidth)},v=function(){var e=Object(V.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{loading:!0})),e.prev=1,e.next=4,He(j,t);case 4:!0===(a=e.sent).data.success&&c(Object(h.a)(Object(h.a)({},s),{},{error:!1,posts:a.data.posts,loading:!1,pages:a.data.pages})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(Object(h.a)(Object(h.a)({},s),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return window.scrollTo(0,0),v()}),[j]),Object(n.useEffect)((function(){return window.addEventListener("resize",f),function(){return window.removeEventListener("resize",f)}}),[]),Object(x.jsx)(q.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)(Q.a,{component:"div",className:e.main,children:[Object(x.jsx)(Q.a,{variant:"h4",align:"center",className:e.header,children:"Pending blogs"}),Object(x.jsx)("main",{children:Object(x.jsx)(Wa,{posts:l,error:o,loading:i,width:m,values:s,setValues:c,getAllPosts:v})}),Object(x.jsx)("footer",{children:Object(x.jsx)(De,{page:j,pages:d,handlePageChange:function(e,t){c(Object(h.a)(Object(h.a)({},s),{},{page:t}))}})})]})})},Pa=function(){var e=vt(),t=Object(n.useContext)(O).state.token,a=Object(n.useState)({loading:!1,error:!1,posts:"",pages:"",page:null,selected:""}),r=Object(u.a)(a,2),s=r[0],c=r[1],i=s.loading,o=s.error,l=s.posts,d=s.pages,j=s.page,b=Object(n.useState)(window.innerWidth),p=Object(u.a)(b,2),m=p[0],g=p[1],f=function(){g(window.innerWidth)},v=function(){var e=Object(V.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{loading:!0})),e.prev=1,e.next=4,Ve(j,t);case 4:!0===(a=e.sent).data.success&&c(Object(h.a)(Object(h.a)({},s),{},{error:!1,posts:a.data.posts,loading:!1,pages:a.data.pages})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(Object(h.a)(Object(h.a)({},s),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return window.scrollTo(0,0),v()}),[j]),Object(n.useEffect)((function(){return window.addEventListener("resize",f),function(){return window.removeEventListener("resize",f)}}),[]),Object(x.jsx)(q.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)(Q.a,{component:"div",className:e.main,children:[Object(x.jsx)(Q.a,{variant:"h4",align:"center",className:e.header,children:"Denied blogs"}),Object(x.jsx)("main",{children:Object(x.jsx)(Wa,{posts:l,error:o,loading:i,width:m,values:s,setValues:c,getAllPosts:v})}),Object(x.jsx)("footer",{children:Object(x.jsx)(De,{page:j,pages:d,handlePageChange:function(e,t){c(Object(h.a)(Object(h.a)({},s),{},{page:t}))}})})]})})},Ua=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(2,0)},userDiv:{margin:e.spacing(2,0),display:"flex",alignItems:"center",overflowX:"auto"},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around",margin:e.spacing(4,0)},flexDiv2:{display:"flex",alignItems:"center",marginLeft:"10px"},image:{height:"100px",margin:" 0 15px"},button:{margin:e.spacing(1,2),minWidth:"100px"},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},select:{width:"100px",maxWidth:"90%",margin:e.spacing(2,0,3,0)}}})),La=function(e){var t=e.user,a=e.classes,r=Object(n.useState)({banned:t.banned,loading:!1,error:!1,message:!1}),s=Object(u.a)(r,2),c=s[0],i=s[1],l=c.banned,d=c.loading,j=c.error,b=c.message,p=Object(n.useContext)(O).state.token,m=function(){var e=Object(V.a)(H.a.mark((function e(){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=1,e.next=4,Ge(p,t._id,l);case 4:a=e.sent,n=a.data,i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,message:n.message,error:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,message:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:a.image,src:t.banned?Se:t.images[0].url,alt:"Could not display image"})}),Object(x.jsx)("div",{children:Object(x.jsxs)(o.b,{className:a.link,to:"/public-user/".concat(t.username),children:[Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Username: "}),t.username]}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Email: "})," ",t.email]}),Object(x.jsxs)(Q.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Status: "}),t.verified?"Active":"Not Verified"]})]})}),Object(x.jsxs)("div",{className:a.flexDiv2,children:[Object(x.jsxs)(Ot.a,{className:a.select,children:[Object(x.jsx)(gt.a,{id:"status",children:"Ban status"}),Object(x.jsxs)(ft.a,{labelId:"status",value:l,onChange:function(e){return i(Object(h.a)(Object(h.a)({},c),{},{banned:e.target.value}))},children:[Object(x.jsx)(k.a,{value:!0,children:"True"}),Object(x.jsx)(k.a,{value:!1,children:"False"})]})]}),Object(x.jsx)(X.a,{onClick:m,variant:"contained",className:a.button,color:"primary",children:d?"Loading..":"Save"})]}),function(){if(j)return Object(x.jsx)(te.a,{style:{width:"90%",margin:"10px 0"},variant:"outlined",severity:"error",children:j})}(),function(){if(b)return Object(x.jsx)(te.a,{style:{width:"90%",margin:"10px 0"},variant:"outlined",severity:"success",children:b})}()]},t._id)},Ta=function(){var e=Ua(),t=Object(n.useState)({users:[],page:null,pages:"",loadingUsers:!1,usersError:!1}),a=Object(u.a)(t,2),r=a[0],s=a[1],c=r.pages,i=r.page,o=r.users,l=r.loadingUsers,d=function(){var e=Object(V.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(h.a)(Object(h.a)({},r),{},{loadingUsers:!0})),e.prev=1,e.next=4,Te(i);case 4:t=e.sent,a=t.data,s(Object(h.a)(Object(h.a)({},r),{},{loadingUsers:!1,users:a.users,pages:a.pages,error:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s(Object(h.a)(Object(h.a)({},r),{},{loadingUsers:!1,error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[i]),Object(x.jsx)(q.a,{component:"div",maxWidth:"md",className:e.root,children:Object(x.jsxs)(Q.a,{component:"div",className:e.main,children:[Object(x.jsx)(Q.a,{variant:"h5",align:"center",className:e.header,children:"Users list"}),l?Object(x.jsx)(ee,{}):o&&o.length>0?Object(x.jsx)("div",{children:o.map((function(t){return Object(x.jsx)(La,{user:t,classes:e})}))}):Object(x.jsx)("p",{children:"No users found..."}),Object(x.jsx)(De,{page:i,pages:c,handlePageChange:function(e,t){s(Object(h.a)(Object(h.a)({},r),{},{page:t}))}})]})})},Ba=function(){return Object(x.jsxs)(Q.a,{component:"div",children:[Object(x.jsx)(Q.a,{variant:"h4",align:"center",style:{marginTop:"50px",backgroundColor:"black",color:"white",padding:"5px"},children:"We're sorry this user was banned!"}),Object(x.jsx)("img",{src:Se,style:{maxWidth:"100%"}})]})},Aa=function(){var e=St();return Object(x.jsxs)(o.a,{children:[Object(x.jsx)(Pt,{}),Object(x.jsxs)(Et.a,{theme:It,children:[Object(x.jsx)(i.a,{}),Object(x.jsx)(_,{}),Object(x.jsx)(l.d,{children:Object(x.jsxs)("main",{className:e.root,children:[Object(x.jsx)(l.b,{exact:!0,path:"/",component:Ct}),Object(x.jsx)(l.b,{exact:!0,path:"/login",component:oe}),Object(x.jsx)(l.b,{exact:!0,path:"/cannot-login",component:Na}),Object(x.jsx)(l.b,{exact:!0,path:"/register",component:ue}),Object(x.jsx)(l.b,{exact:!0,path:"/password-reset/:resetPasswordToken",component:Ca}),Object(x.jsx)(l.b,{exact:!0,path:"/post/:id",component:sa}),Object(x.jsx)(l.b,{exact:!0,path:"/public-user/:username",component:la}),Object(x.jsx)(Lt,{exact:!0,path:"/private-profile",component:Zt}),Object(x.jsx)(Lt,{exact:!0,path:"/new-post",component:ea}),Object(x.jsx)(Lt,{exact:!0,path:"/post-update/:id",component:ta}),Object(x.jsx)(Lt,{exact:!0,path:"/my-posts/:username",component:ga}),Object(x.jsx)(Sa,{exact:!0,path:"/pending-posts",component:Ia}),Object(x.jsx)(Sa,{exact:!0,path:"/denied-posts",component:Pa}),Object(x.jsx)(Sa,{exact:!0,path:"/ban-users",component:Ta}),Object(x.jsx)(l.b,{exact:!0,path:"/Authorization-error",component:Da}),Object(x.jsx)(l.b,{exact:!0,path:"/banned-user",component:Ba})]})})]})]})};a(198);c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(f,{children:Object(x.jsx)(Aa,{})})}),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.3d143255.chunk.js.map