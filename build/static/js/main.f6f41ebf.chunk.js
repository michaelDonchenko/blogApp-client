(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{189:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),c=a.n(s),i=a(233),o=a(14),l=a(21),u=a(11),d=a(231),j=a(224),b=a(85),p=Object(j.a)({root:{backgroundColor:b.a[500],padding:0,margin:0,display:"flex",flexDirection:"row",justifyContent:"center"},navLink:{textDecoration:"none",fontWeight:"500",color:"white",fontSize:"16px",margin:"0 5px","&:hover":{cursor:"pointer",color:"#ec407a"}},logo:{textDecoration:"none",fontWeight:"500",color:"white",fontSize:"22px",margin:"0 5px","&:hover":{cursor:"pointer",color:"#ec407a"}},toolBar:{minHeight:"30px",width:"100%",maxWidth:"1280px"},menu:{padding:"5px"},item:{margin:"10px"},icon:{margin:"0 7px 0 0 "},link:{textDecoration:"none",color:"black"}}),h=a(3),x=a(1),m=function(e,t){switch(t.type){case"LOGIN":return Object(h.a)(Object(h.a)({},e),{},{user:t.payload.user,token:t.payload.token});case"LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{user:null,token:null});default:return e}},g={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,token:localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):null},O=Object(r.createContext)(),f=function(e){var t=e.children,a=Object(r.useReducer)(m,g),n=Object(u.a)(a,2),s={state:n[0],dispatch:n[1]};return Object(x.jsx)(O.Provider,{value:s,children:t})},v=a(84),y=a(230),w=a(129),k=a(258),N=a(114),C=a.n(N),S=a(115),D=a.n(S),E=a(117),I=a.n(E),W=a(116),U=a.n(W);function L(e){var t=e.classes,a=e.handleLogout,r=e.open,n=e.handleClick,s=e.handleClose,c=e.user;return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:t.navLink,"aria-controls":"user menu","aria-haspopup":"true",onClick:n,children:"Open Menu"}),Object(x.jsxs)(w.a,{className:t.menu,id:"user menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:s,children:[Object(x.jsx)(o.b,{className:t.link,to:"/private-profile",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(C.a,{className:t.icon})," Profile"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/new-post",children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(D.a,{className:t.icon})," New Post"]})}),Object(x.jsx)(o.b,{className:t.link,to:"/my-posts/".concat(c.username),children:Object(x.jsxs)(k.a,{className:t.item,onClick:s,children:[Object(x.jsx)(U.a,{className:t.icon})," My Posts"]})}),Object(x.jsxs)(k.a,{className:t.item,onClick:a,children:[Object(x.jsx)(I.a,{className:t.icon})," Log-out"]})]})]})}var P=function(e){var t=e.user,a=e.token,r=e.handleLogout,n=e.open,s=e.handleClick,c=e.handleClose,i=p();return Object(x.jsxs)(y.a,{className:i.toolBar,children:[Object(x.jsx)(o.c,{exact:!0,activeStyle:{textDecoration:"underline",color:v.a[500],fontWeight:"700"},className:i.navLink,to:"/",children:Object(x.jsx)("span",{className:i.logo,children:"Mike's Blog"})}),Object(x.jsx)("div",{style:{flexGrow:1}}),t&&a?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(L,{classes:i,handleLogout:r,open:n,handleClick:s,handleClose:c,user:t})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.c,{className:i.navLink,exact:!0,activeStyle:{textDecoration:"underline",textDecorationColor:v.a[500],fontWeight:"700"},to:"/login",children:"Log-in"}),Object(x.jsx)(o.c,{exact:!0,activeStyle:{textDecoration:"underline",textDecorationColor:v.a[500],fontWeight:"700"},className:i.navLink,to:"/register",children:"Register"})]})]})},B=function(){var e=p(),t=Object(r.useContext)(O),a=t.state,n=t.dispatch,s=a.user,c=a.token,i=Object(r.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],b=function(){j(null)};return Object(x.jsx)(d.a,{position:"sticky",className:e.root,children:Object(x.jsx)(P,{user:s,token:c,handleLogout:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),n({type:"LOGOUT"}),b()},open:l,handleClick:function(e){j(e.currentTarget)},handleClose:b})})},T=a(7),A=a.n(T),F=a(9),G=a(16),M=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em",minHeight:"300px"},header:{margin:e.spacing(2,0)},paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},footer:{margin:e.spacing(6,0)},link:{textDecoration:"underline",color:"black","&:hover":{color:e.palette.primary.light}},button:{margin:e.spacing(2,0)},appBar:{position:"relative",backgroundColor:b.a[500]},toolBar:{minHeight:"30px"}}})),_=a(236),z=a(234),H=a(252),V=a(235),Y=a(133),R=a(232),q=Object(j.a)((function(e){return{root:{display:"flex",margin:e.spacing(3,"auto"),justifyContent:"center"}}}));function K(){var e=q();return Object(x.jsx)("div",{className:e.root,children:Object(x.jsx)(R.a,{style:{display:"flex"},color:"secondary"})})}var J=a(255),X=function(e){var t=e.values,a=e.handleChange,r=e.handleSubmit,n=M(),s=t.password,c=t.username,l=t.loading,u=t.error;return Object(x.jsxs)(Y.a,{component:"Typography",className:n.main,children:[Object(x.jsx)(i.a,{}),Object(x.jsxs)("div",{className:n.paper,children:[Object(x.jsx)(Y.a,{component:"h1",variant:"h5",children:"Login"}),Object(x.jsxs)("form",{onSubmit:r,className:n.form,children:[Object(x.jsx)(H.a,{variant:"standard",margin:"normal",value:c,onChange:a,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0}),Object(x.jsx)(H.a,{variant:"standard",margin:"normal",value:s,onChange:a,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),l&&Object(x.jsx)(K,{}),"string"===typeof u?Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:u}):"object"===typeof u?Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:u.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,Object(x.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign In"}),Object(x.jsxs)(V.a,{container:!0,className:n.footer,children:[Object(x.jsx)(V.a,{item:!0,xs:!0,children:Object(x.jsx)(o.b,{className:n.link,to:"/cannot-login",variant:"body2",children:"Can't login?"})}),Object(x.jsx)(V.a,{item:!0,children:Object(x.jsx)(o.b,{className:n.link,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})},Q=a(20),Z=a.n(Q),$="http://localhost:8000/api",ee=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.post("".concat($,"/register"),{password:t,email:a,username:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.post("".concat($,"/login"),{username:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(e){var t=e.history,a=Object(r.useContext)(O),n=a.dispatch,s=a.state,c=s.user,i=s.token;c&&i&&t.push("/");var o=M(),l=Object(r.useState)({username:"",password:"",loading:!1,error:!1,success:!1}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=j.username,m=j.password,g=function(){var e=Object(F.a)(A.a.mark((function e(a){var r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),b(Object(h.a)(Object(h.a)({},j),{},{loading:!0})),e.prev=2,e.next=5,te(p,m);case 5:if(!(r=e.sent).data.errors){e.next=10;break}return s=[],r.data.errors.map((function(e){return s.push(e.msg)})),e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{error:s,loading:!1,success:!1})));case 10:!0===r.data.success&&(localStorage.setItem("user",JSON.stringify(r.data.user)),localStorage.setItem("token",JSON.stringify(r.data.token)),n({type:"LOGIN",payload:{user:r.data.user,token:r.data.token}}),t.push("/private-profile")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,success:!1,error:e.t0.response.data.message}));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(_.a,{maxWidth:"xs",className:o.root,children:Object(x.jsx)(X,{values:j,handleChange:function(e){b(Object(h.a)(Object(h.a)({},j),{},Object(G.a)({},e.target.name,e.target.value)))},handleSubmit:g})})},re=function(e){var t=e.values,a=e.handleChange,r=e.handleSubmit,n=M(),s=t.username,c=t.email,l=t.password,u=t.loading,d=t.error,j=t.success;return Object(x.jsxs)(Y.a,{component:"div",className:n.main,children:[Object(x.jsx)(i.a,{}),Object(x.jsxs)("div",{className:n.paper,children:[Object(x.jsx)(Y.a,{component:"h1",variant:"h5",children:"Register"}),Object(x.jsxs)("form",{onSubmit:r,className:n.form,children:[Object(x.jsxs)(V.a,{container:!0,spacing:3,children:[Object(x.jsx)(V.a,{item:!0,xs:12,children:Object(x.jsx)(H.a,{variant:"standard",value:s,onChange:a,fullWidth:!0,id:"username",label:"Username",name:"username"})}),Object(x.jsx)(V.a,{item:!0,xs:12,children:Object(x.jsx)(H.a,{variant:"standard",value:c,onChange:a,fullWidth:!0,id:"email",label:"Email Address",name:"email"})}),Object(x.jsx)(V.a,{item:!0,xs:12,children:Object(x.jsx)(H.a,{variant:"standard",onChange:a,value:l,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"})}),Object(x.jsx)(V.a,{item:!0,xs:12}),u&&Object(x.jsx)(K,{}),"string"===typeof d?Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:d}):"object"===typeof d?Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:d.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(j)return Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"success",children:j})}()]}),Object(x.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign Up"}),Object(x.jsx)(V.a,{container:!0,justify:"flex-start",className:n.footer,children:Object(x.jsx)(V.a,{item:!0,children:Object(x.jsx)(o.b,{className:n.link,to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},ne=function(e){var t=e.history,a=Object(r.useContext)(O).state,n=a.user,s=a.token;n&&s&&t.push("/");var c=M(),i=Object(r.useState)({username:"",password:"",email:"",loading:!1,error:!1,success:!1}),o=Object(u.a)(i,2),l=o[0],d=o[1],j=l.username,b=l.password,p=l.email,m=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(Object(h.a)(Object(h.a)({},l),{},{loading:!0})),e.prev=2,e.next=5,ee(b,p,j);case 5:if(!(a=e.sent).data.errors){e.next=10;break}return r=[],a.data.errors.map((function(e){return r.push(e.msg)})),e.abrupt("return",d(Object(h.a)(Object(h.a)({},l),{},{error:r,loading:!1,success:!1})));case 10:if(!0!==a.data.success){e.next=12;break}return e.abrupt("return",d(Object(h.a)(Object(h.a)({},l),{},{error:!1,loading:!1,success:a.data.message,username:"",password:"",email:""})));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),d(Object(h.a)(Object(h.a)({},l),{},{loading:!1,success:!1,error:e.t0.response.data.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(_.a,{maxWidth:"xs",className:c.root,children:Object(x.jsx)(re,{values:l,handleChange:function(e){d(Object(h.a)(Object(h.a)({},l),{},Object(G.a)({},e.target.name,e.target.value)))},handleSubmit:m})})})},se=a(237),ce=a(238),ie=Object(j.a)((function(e){return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(2,0)},postsContainer:Object(G.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(0)}),post:Object(G.a)({margin:e.spacing(3,0),padding:e.spacing(2,4)},e.breakpoints.down("xs"),{padding:e.spacing(2,1)}),topHr:{borderColor:"gray",width:"80%"},hr:{borderColor:v.a[500],margin:e.spacing(3,0)},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},buttonLink:{textDecoration:"none","&:hover":{textDecoration:"underline"}},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center"},flexDiv2:{display:"flex",justifyContent:"center"},image:{height:"80px",margin:" 0 15px"},button:{margin:e.spacing(1,2),minWidth:"100px"},deleteButton:{margin:e.spacing(1,2),color:se.a[500]},updateButton:{margin:e.spacing(1,2),color:ce.a[500]},appBar:{position:"relative",backgroundColor:b.a[500]},toolBar:{minHeight:"30px"},dialogFlex:{display:"flex",flexDirection:"column"},userDiv:{margin:e.spacing(2,0),display:"flex",alignItems:"center",overflowX:"auto"}}})),oe=a(118),le=a.n(oe),ue=a(259),de=a(83),je=Object(j.a)((function(e){var t;return{search:(t={display:"flex",alignItems:"center",borderRadius:e.shape.borderRadius,backgroundColor:de.a[200],"&:hover":{backgroundColor:de.a[300]}},Object(G.a)(t,e.breakpoints.down("xs"),{margin:e.spacing(4,2)}),Object(G.a)(t,"margin",e.spacing(4,6)),t),searchIcon:{padding:e.spacing(0,2),height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"}},inputInput:{display:"flex",flex:1}}})),be=function(e){var t=e.keyword,a=e.setKeyword,r=e.search,n=je();return Object(x.jsxs)("div",{className:n.search,children:[Object(x.jsx)("div",{className:n.searchIcon,children:Object(x.jsx)(le.a,{onClick:r})}),Object(x.jsx)(ue.a,{onKeyUp:function(e){if("Enter"===e.key)return r()},value:t,onChange:function(e){return a(e.target.value)},placeholder:"Search\u2026",className:n.inputInput})]})},pe=a(257),he=a(192),xe=a(239),me=a(240),ge=a(57),Oe=a.n(ge),fe=a(253),ve=function(e){var t=e.page,a=e.pages,r=e.handlePageChange;return Object(x.jsx)("div",{children:Object(x.jsx)(Y.a,{component:"div",style:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(fe.a,{count:a&&parseInt(a)>1&&parseInt(a),page:t||1,color:"primary",onChange:r})})})},ye=function(e){var t=e.width,a=e.classes,n=e.displayUsers,s=e.handleClose,c=e.fetchUsers,i=e.values,l=e.handlePageChange,u=i.pages,j=i.page,b=i.users,p=i.loadingUsers;return Object(r.useEffect)((function(){c()}),[j]),Object(x.jsxs)(pe.a,{scroll:"paper",fullScreen:t<600,onClose:s,"aria-labelledby":"display-users",open:n,children:[t<600&&Object(x.jsx)(d.a,{className:a.appBar,children:Object(x.jsx)(y.a,{className:a.toolBar,children:Object(x.jsx)(he.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(x.jsx)(Oe.a,{})})})}),Object(x.jsx)(xe.a,{id:"display-users",children:Object(x.jsx)(Y.a,{variant:"h5",align:"center",children:"Website Users"})}),Object(x.jsxs)(me.a,{children:[p?Object(x.jsx)(K,{}):b&&b.length>0?Object(x.jsx)("div",{className:a.dialogFlex,children:b.map((function(e){return Object(x.jsxs)("div",{className:a.userDiv,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:a.image,src:e.images[0].url,alt:"Could not display image"})}),Object(x.jsx)("div",{children:Object(x.jsxs)(o.b,{className:a.link,to:"/public-user/".concat(e.username),children:[Object(x.jsxs)(Y.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Username: "})," ",e.username]}),Object(x.jsxs)(Y.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Email: "})," ",e.email]}),Object(x.jsxs)(Y.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Status: "})," ",e.verified?"Active":"Not Verified"]})]})})]},e._id)}))}):Object(x.jsx)("p",{children:"No users found..."}),Object(x.jsx)(ve,{page:j,pages:u,handlePageChange:l})]})]})},we="http://localhost:8000/api",ke=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("".concat(we,"/user-profile"),{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(we,"/update-details/").concat(t),{username:r,about:n},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("".concat(we,"/public-profile/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(we,"/forgot-username"),{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("".concat(we,"/users?page=").concat(t,"&limit=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(we,"/forgot-password"),{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("".concat(we,"/password-reset/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(we,"/password-reset"),{password:t,confirmPassword:a,resetPasswordToken:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Ue=function(e){var t=e.keyword,a=e.setKeyword,n=e.search,s=e.classes,c=e.width,i=Object(r.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)({users:[],page:null,pages:"",loadingUsers:!1,usersError:!1}),b=Object(u.a)(j,2),p=b[0],m=b[1],g=p.page,O=function(){var e=Object(F.a)(A.a.mark((function e(t,a){var r,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(h.a)(Object(h.a)({},p),{},{loadingUsers:!0})),e.prev=1,e.next=4,De(g);case 4:r=e.sent,n=r.data,m(Object(h.a)(Object(h.a)({},p),{},{loading:!1,users:n.users,pages:n.pages,error:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m(Object(h.a)(Object(h.a)({},p),{},{loading:!1,error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsxs)(V.a,{container:!0,children:[Object(x.jsx)(V.a,{item:!0,xs:12,children:Object(x.jsx)(Y.a,{component:"div",align:"center",children:Object(x.jsx)(be,{keyword:t,setKeyword:a,search:n})})}),Object(x.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(Y.a,{align:"center",variant:"h6",children:"Here will be filtering options"})}),Object(x.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)("div",{className:s.flexDiv2,children:Object(x.jsx)(z.a,{className:s.button,onClick:function(){d(!0)},variant:"outlined",color:"secondary",children:"Display users"})})})]}),Object(x.jsx)(ye,{width:c,displayUsers:l,handleClose:function(){d(!1)},classes:s,values:p,setValues:m,fetchUsers:O,handlePageChange:function(e,t){m(Object(h.a)(Object(h.a)({},p),{},{page:t}))}})]})},Le="http://localhost:8000/api",Pe=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(Le,"/posts?page=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(Le,"/post"),{title:a,body:r},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Te=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.put("".concat(Le,"/post/").concat(a),{title:r,body:n},{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.delete("".concat(Le,"/post/").concat(a),{headers:{Authorization:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(Le,"/post/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(F.a)(A.a.mark((function e(t,a,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(Le,"/user-posts/").concat(t,"?page=").concat(a,"&limit=").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Me=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("".concat(Le,"/searchQuery?page=").concat(a),{keyword:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.put("".concat(Le,"/like/").concat(t),{},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(F.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.put("".concat(Le,"/unlike/").concat(t),{},{headers:{Authorization:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),He=a(46),Ve=a.n(He),Ye=a(64),Re=a(241),qe=a(242),Ke=Object(j.a)((function(e){return{deleteDialog:{margin:e.spacing(3)}}})),Je=function(e){var t=e.postId,a=e.handleClose,r=e.post,n=e.handleDelete,s=e.values,c=e.displayError,i=Ke(),o=s.deleteLoading;return Object(x.jsx)(pe.a,{open:t===r._id,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)(me.a,{className:i.deleteDialog,children:[c(),Object(x.jsxs)(Re.a,{id:"alert-dialog-description",children:[Object(x.jsx)("h4",{style:{color:v.a[500]},children:"Are you sure you want to delete this blog?"}),Object(x.jsxs)("h3",{children:["Title: ",r.title]})]})]}),Object(x.jsx)(qe.a,{children:o?Object(x.jsx)(K,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(z.a,{onClick:a,children:"Disagree"}),Object(x.jsx)(z.a,{onClick:n,color:"primary",autoFocus:!0,children:"Agree"})]})})]})})},Xe=a(119),Qe=a.n(Xe),Ze=a(95),$e=a.n(Ze),et=a(120),tt=a.n(et),at=a(79),rt=a.n(at),nt=function(e){var t=e.user,a=e.classes,n=e.post,s=e.handleClickOpen,c=e.token,i=Object(r.useState)({like:!!t&&n.likes.includes(t._id),loading:!1,error:!1,likesCount:n.likes.length}),l=Object(u.a)(i,2),d=l[0],j=l[1],b=d.like,p=d.loading,m=d.error,g=d.likesCount,O=function(){var e=Object(F.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(h.a)(Object(h.a)({},d),{},{loading:!0})),e.prev=1,e.next=4,_e(n._id,c);case 4:t=e.sent,t.data.success&&j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:!1,like:!b,likesCount:g+1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(h.a)(Object(h.a)({},d),{},{loading:!0})),e.prev=1,e.next=4,ze(n._id,c);case 4:t=e.sent,t.data.success&&j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:!1,like:!b,likesCount:g-1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(Object(h.a)(Object(h.a)({},d),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)(Y.a,{component:"div",className:a.flexDiv,children:[m?Object(x.jsx)("span",{children:"We're sorry there is an error..."}):b?Object(x.jsx)(z.a,{onClick:function(){return f()},startIcon:Object(x.jsx)($e.a,{}),className:a.button,variant:"contained",color:"primary",disabled:!t,children:p?"Loading..":"Unlike / "+g}):Object(x.jsx)(z.a,{onClick:function(){return O()},startIcon:Object(x.jsx)($e.a,{}),className:a.button,variant:"outlined",color:"primary",disabled:!t,children:p?"Loading..":"Like / "+g}),Object(x.jsx)(z.a,{startIcon:Object(x.jsx)(Qe.a,{}),className:a.button,variant:"outlined",color:"secondary",disabled:!t,children:"comment"}),t&&t._id===n.postedBy._id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.b,{className:a.buttonLink,to:"/post-update/".concat(n._id),children:Object(x.jsx)(z.a,{startIcon:Object(x.jsx)(tt.a,{}),className:a.updateButton,variant:"outlined",children:"update"})}),Object(x.jsx)(z.a,{startIcon:Object(x.jsx)(rt.a,{}),className:a.deleteButton,variant:"outlined",onClick:s,children:"delete"})]}):null]})})},st=function(e){var t=e.post,a=e.classes,n=e.width,s=e.values,c=e.setValues,i=Object(r.useContext)(O).state,l=i.user,d=i.token,j=s.deleteError,b=Object(r.useState)(!1),p=Object(u.a)(b,2),m=p[0],g=p[1],f=function(){var e=Object(F.a)(A.a.mark((function e(){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{deleteLoading:!0})),e.prev=1,e.next=4,Ae(d,t._id);case 4:if(!e.sent.data.success){e.next=11;break}return e.next=8,Pe();case 8:a=e.sent,r=a.data,c(Object(h.a)(Object(h.a)({},s),{},{deleteError:!1,posts:r.posts,deleteLoading:!1,pages:r.pages,setPostId:!1}));case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),401!==e.t0.response.status){e.next=17;break}return e.abrupt("return",c(Object(h.a)(Object(h.a)({},s),{},{deleteSuccess:!1,deleteError:"You are Unauthorized",deleteLoading:!1})));case 17:c(Object(h.a)(Object(h.a)({},s),{},{deleteSuccess:!1,deleteError:e.t0.response.data.message,deleteLoading:!1}));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Y.a,{component:"div",className:a.post,children:[Object(x.jsx)(o.b,{className:a.link,to:"/post/".concat(t._id),children:Object(x.jsx)(Y.a,{style:{marginBottom:"7px",textAlign:"center",color:v.a[500],background:v.a[50]},variant:n>600?"h5":"h6",children:t.title})}),Object(x.jsx)(Y.a,{style:{margin:"20px 0"},variant:"body1",children:t.body.length>=800?Object(x.jsxs)(x.Fragment,{children:[Object(Ye.a)(t.body.substring(0,800)+" [...]"),Object(x.jsx)(o.b,{style:{color:v.a[500]},className:a.link,to:"/post/".concat(t._id),children:"Continue reading"})]}):Object(Ye.a)(t.body.substring(0,800))}),Object(x.jsx)("hr",{className:a.hr}),Object(x.jsxs)(Y.a,{className:a.flexDiv,component:"div",align:"left",children:[Object(x.jsx)("div",{style:{marginBottom:"15px"},children:Object(x.jsx)("img",{className:a.image,src:t.postedBy.images[0].url,alt:"Could not display image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(o.b,{style:{display:"flex",width:"fit-content"},className:a.link,to:"/public-user/".concat(t.postedBy.username),children:Object(x.jsxs)(Y.a,{variant:"subtitle1",style:{overflowX:"auto",fontWeight:"600"},children:[t.postedBy.username," /",Object(x.jsx)("span",{style:{color:"GrayText"},children:t.postedBy.email})]})}),Object(x.jsxs)(Y.a,{variant:"subtitle1",children:[Object(x.jsx)("span",{style:{color:"GrayText"},children:"Views: "})," ",t.views," "]}),Object(x.jsx)(Y.a,{variant:"body2",style:{color:"GrayText"},children:Ve()(t.createdAt).format("MMM Do YYYY")})]})]}),Object(x.jsx)(nt,{classes:a,user:l,token:d,post:t,handleClickOpen:function(){g(t._id)}})]}),Object(x.jsx)(Je,{displayError:function(){if(j)return Object(x.jsx)(J.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:j})},postId:m,handleClose:function(){g(!1),c(Object(h.a)(Object(h.a)({},s),{},{deleteError:!1}))},post:t,handleDelete:f,values:s})]})},ct=function(e){var t=e.posts,a=e.error,r=e.loading,n=e.width,s=e.values,c=e.setValues,i=e.getAllPosts,o=ie();return Object(x.jsxs)("div",{className:o.postsContainer,children:[Object(x.jsx)(Y.a,{variant:"h6",align:"center",style:{color:"GrayText"},children:"Resent Blogs"}),Object(x.jsx)("hr",{className:o.mainHr}),r&&Object(x.jsx)(K,{}),function(){if(a)return Object(x.jsx)(J.a,{style:{width:"100%"},variant:"outlined",severity:"error",children:a})}(),!r&&!a&&t.length>0?t.map((function(e){return Object(x.jsx)(st,{post:e,classes:o,width:n,values:s,setValues:c,getAllPosts:i},e._id)})):Object(x.jsx)("p",{children:"No posts found.."})]})},it=function(e){var t=e.width,a=Object(r.useContext)(O).state,n=a.user,s=a.token;return Object(x.jsx)(Y.a,{component:"div",align:"left",children:Object(x.jsx)(Y.a,{variant:t<600?"subtitle1":"h5",children:n&&s?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"Hello"}),Object(x.jsxs)("span",{style:{fontWeight:"600",margin:"0 7px"},children:[n.username,","]}),Object(x.jsx)("span",{children:"Welcome back."})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"Hello Guest, please"}),Object(x.jsx)(o.b,{style:{margin:"0 7px",color:"black"},to:"/login",children:"log-in"}),Object(x.jsx)("span",{children:"if you want to post a new blog."})]})})})},ot=function(){var e=ie(),t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)({loading:!1,error:!1,posts:"",pages:"",page:null,queryPages:"",queryPage:null,deleteError:!1,deleteLoading:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],d=o.loading,j=o.error,b=o.posts,p=o.pages,m=o.page,g=o.queryPage,O=o.queryPages,f=Object(r.useState)(window.innerWidth),v=Object(u.a)(f,2),y=v[0],w=v[1],k=function(){w(window.innerWidth)},N=function(){var e=Object(F.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,Pe(m);case 4:!0===(t=e.sent).data.success&&l(Object(h.a)(Object(h.a)({},o),{},{error:!1,posts:t.data.posts,loading:!1,pages:t.data.pages,queryPage:null,queryPages:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,n){e.next=6;break}return e.next=5,N();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,Me(n,g);case 8:t=e.sent,!0===(a=t.data).success&&l(Object(h.a)(Object(h.a)({},o),{},{error:!1,posts:a.posts,loading:!1,queryPages:a.pages,page:null,pages:""})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(window.scrollTo(0,0),!n)return N()}),[m]),Object(r.useEffect)((function(){if(window.scrollTo(0,0),n)return C()}),[g]),Object(r.useEffect)((function(){return window.addEventListener("resize",k),function(){return window.removeEventListener("resize",k)}}),[]),Object(x.jsx)(_.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)(Y.a,{component:"div",className:e.main,children:[Object(x.jsxs)("header",{children:[Object(x.jsx)(it,{width:y}),Object(x.jsx)(Ue,{search:C,classes:e,keyword:n,setKeyword:s,width:y})]}),Object(x.jsx)("main",{children:Object(x.jsx)(ct,{posts:b,error:j,loading:d,width:y,values:o,setValues:l,getAllPosts:N})}),Object(x.jsxs)("footer",{children:[!n&&Object(x.jsx)(ve,{page:m,pages:p,handlePageChange:function(e,t){l(Object(h.a)(Object(h.a)({},o),{},{page:t}))}}),n&&Object(x.jsx)(ve,{page:g,pages:O,handlePageChange:function(e,t){l(Object(h.a)(Object(h.a)({},o),{},{queryPage:t}))}})]})]})})},lt=a.p+"static/media/background3.a2eab525.jpg",ut=Object(j.a)({root:{minHeight:"100vh",backgroundImage:"url(".concat(lt,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center"}}),dt=a(251),jt=a(128),bt=Object(jt.a)({palette:{primary:{main:v.a[500]},secondary:{main:b.a[500]}}});function pt(){var e=Object(l.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var ht=a(130),xt=function(e){var t=e.component,a=Object(ht.a)(e,["component"]),n=Object(r.useContext)(O).state,s=n.user,c=n.token;return Object(x.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return s&&c?Object(x.jsx)(t,Object(h.a)({},e)):Object(x.jsx)(l.a,{to:"/login"})}}))},mt=a(122),gt=a.n(mt),Ot=a(256),ft=a(243),vt=a(244),yt=a(121),wt=a.n(yt),kt=function(e){var t=e.classes,a=e.values,r=e.setValues,n=a.images;return Object(x.jsxs)(Ot.a,{className:t.accordionStyle,children:[Object(x.jsx)(ft.a,{expandIcon:Object(x.jsx)(wt.a,{}),"aria-controls":"panel2-content",id:"panel2-header",children:Object(x.jsx)("h3",{children:"User Images"})}),Object(x.jsx)(vt.a,{className:t.accordionDetails,children:Object(x.jsx)("div",{className:t.imagesContainer,children:n&&n.length>0?n.map((function(e){return Object(x.jsx)("img",{"aria-controls":"imageMenu","aria-haspopup":"true",className:t.imageInContainer,src:e.url,onClick:function(t){return r(Object(h.a)(Object(h.a)({},a),{},{imgMenu:t.currentTarget,imgPublic_id:e.public_id}))},alt:"failed to upload"},e.public_id)})):null})})]})},Nt=function(e){var t=e.values,a=e.classes,r=e.handleImageChange,n=e.handleImageUpload,s=e.setValues,c=t.images,i=t.loading,o=t.error;return Object(x.jsx)(V.a,{item:!0,xs:12,md:6,children:Object(x.jsxs)("div",{className:a.flexDiv,children:[i?Object(x.jsx)(K,{}):Object(x.jsx)("img",{className:a.image,src:c.length>0&&c[0].url,alt:"Cannot show this image"}),Object(x.jsxs)("form",{onSubmit:n,children:[Object(x.jsx)("input",{style:{fontSize:"15px",display:"flex",padding:"10px 20px"},type:"file",accept:"image/*",name:"imagetoUpload",onChange:r}),i?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{style:{fontSize:"15px",display:"flex",margin:"5px 20px"},startIcon:Object(x.jsx)(gt.a,{}),variant:"contained",className:a.button,type:"submit",color:"primary",children:"Upload Image"})]}),function(){if(o)return Object(x.jsx)(J.a,{style:{width:"fit-content",margin:"20px"},variant:"outlined",severity:"error",children:o})}(),Object(x.jsx)(kt,{values:t,classes:a,setValues:s})]})})},Ct=Object(j.a)((function(e){var t;return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",minHeight:"500px",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em"},heading:{margin:e.spacing(3,0)},image:(t={display:"flex",margin:"20px auto",border:"1px solid"},Object(G.a)(t,e.breakpoints.down("xs"),{maxWidth:"90%",maxHeight:"250px"}),Object(G.a)(t,e.breakpoints.up("sm"),{maxWidth:"95%",maxHeight:"350px",minHeight:"300px"}),Object(G.a)(t,"boxShadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px"),t),link:{textDecoration:"underline",color:"black","&:hover":{color:e.palette.primary.light}},flexDiv:{marginBottom:"30px",display:"flex",flexDirection:"column"},accordionStyle:{margin:"30px 20px 0 20px","& .MuiAccordionSummary-root":{minHeight:"30px",height:"30px"}},imagesContainer:{display:"flex",flexWrap:"wrap"},imageInContainer:{height:"80px",margin:"10px","&:hover":{border:"1px solid",cursor:"pointer"}},inputField:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"},marginBottom:"20px",width:"90%",margin:"15px 0"},detailsForm:{padding:"10px"},editorDiv:{width:"90%",margin:"20px auto"},table:{margin:e.spacing(2,"auto"),padding:e.spacing(2),overflowX:"auto",maxWidth:"95%"}}})),St=a(123),Dt=a.n(St),Et=a(124),It=a.n(Et),Wt=Object(j.a)({link:{textDecoration:"none",color:"black"},menu:{"& .MuiList-padding":{paddingTop:"5px"}},item:{margin:"10px"},icon:{margin:"0 7px 0 0 "}}),Ut=function(e){var t=e.values,a=e.setValues,r=e.imgMenu,n=e.handleImageDelete,s=e.handleProfileImage,c=Wt();return Object(x.jsxs)(w.a,{className:c.menu,id:"imageMenu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return a(Object(h.a)(Object(h.a)({},t),{},{imgMenu:!1}))},children:[Object(x.jsxs)(k.a,{className:c.item,onClick:function(){return s()},children:[Object(x.jsx)(It.a,{className:c.icon})," Set as profile picture"]}),Object(x.jsxs)(k.a,{className:c.item,onClick:function(){return n()},children:[Object(x.jsx)(rt.a,{className:c.icon})," Delete"]})]})},Lt=function(e){var t=e.values,a=e.classes,r=e.handleChange,n=e.handleDetailsUpdate,s=t.username,c=t.about,i=t.rightGridLoading,o=t.rightGridError,l=t.successUpdate;return Object(x.jsxs)(Y.a,{component:"div",className:a.flexDiv,children:[Object(x.jsx)(Y.a,{variant:"h5",align:"center",style:{marginTop:"20px"},children:"Update Details"}),Object(x.jsxs)("form",{onSubmit:n,className:a.detailsForm,children:[Object(x.jsx)(H.a,{onChange:r,value:s,className:a.inputField,name:"username",label:"New User name",type:"text",helperText:"Enter new User name if you want to change it"}),Object(x.jsx)(H.a,{onChange:r,value:c,className:a.inputField,rows:5,multiline:!0,name:"about",label:"About myself",type:"text",helperText:"Write something about yourself"}),"string"===typeof o?Object(x.jsx)(J.a,{style:{margin:"20px 0"},variant:"outlined",severity:"error",children:o}):"object"===typeof o?Object(x.jsx)(J.a,{style:{margin:"20px 0"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:o.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(l)return Object(x.jsx)(J.a,{style:{margin:"20px 0"},variant:"outlined",severity:"success",children:l})}(),i?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{type:"submit",color:"primary",variant:"contained",children:"Update Details"})]})]})},Pt=function(){var e,t=Ct(),a=Object(r.useContext)(O).state,n=a.token,s=a.user,c=Object(r.useState)({username:"",email:"",images:[],about:"",error:!1,rightGridError:!1,loading:!1,rightGridLoading:!1,imageToUpload:"",imgPublic_id:"",imgMenu:!1,successUpdate:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],d=o.username,j=o.email,b=o.about,p=o.imageToUpload,m=o.imgPublic_id,g=o.imgMenu,f="http://localhost:8000/api",v=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,ke(n);case 4:t=e.sent,(a=t.data).success&&(r=a.user,l(Object(h.a)(Object(h.a)({},o),{},{username:r.username,email:r.email,about:r.about,images:r.images,loading:!1,error:!1}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),p){e.next=4;break}return e.abrupt("return",l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:"Please choose an image to upload"})));case 4:try{Dt.a.imageFileResizer(p,500,500,"auto",100,0,(function(e){Z.a.post("".concat(f,"/uploadImages"),{image:e,email:j},{headers:{Authorization:n}}).then((function(e){var t=e.data;return l(Object(h.a)(Object(h.a)({},o),{},{images:t.imagesArray,loading:!1,error:!1}))})).catch((function(e){return l(Object(h.a)(Object(h.a)({},o),{},{error:e.response.data.message,loading:!1}))}))}),"base64")}catch(r){console.log(r),l(Object(h.a)(Object(h.a)({},a),{},{error:"Error accoured"}))}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,Z.a.post("".concat(f,"/removeimage"),{imageId:m,email:j},{headers:{Authorization:n}});case 4:t=e.sent,a=t.data,l(Object(h.a)(Object(h.a)({},o),{},{images:a.imagesArray,error:!1,loading:!1,imgMenu:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),l(Object(h.a)(Object(h.a)({},o),{},{error:"Could not delete the image",loading:!1,imgMenu:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=1,e.next=4,Z.a.post("".concat(f,"/setProfileImage"),{imageId:m,email:j},{headers:{Authorization:n}});case 4:t=e.sent,a=t.data,l(Object(h.a)(Object(h.a)({},o),{},{images:a.imagesArray,loading:!1,imgMenu:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),l(Object(h.a)(Object(h.a)({},o),{},{error:"Could not set profile image",imgMenu:!1,loading:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{rightGridLoading:!0})),e.prev=2,e.next=5,Ne(s._id,n,d,b);case 5:(a=e.sent).data.errors&&(r=[],a.data.errors.map((function(e){return r.push(e.msg)})),l(Object(h.a)(Object(h.a)({},o),{},{rightGridError:r,rightGridLoading:!1,successUpdate:!1}))),a.data.success&&l(Object(h.a)(Object(h.a)({},o),{},{rightGridError:!1,rightGridLoading:!1,successUpdate:"Details updated succefully.",username:a.data.user.username,about:a.data.user.about})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l(Object(h.a)(Object(h.a)({},o),{},{rightGridLoading:!1,rightGridError:e.t0.response.data.message,successUpdate:!1}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[]),Object(x.jsx)(_.a,{maxWidth:"lg",className:t.root,children:Object(x.jsxs)("div",{className:t.main,children:[Object(x.jsx)(Y.a,{className:t.heading,variant:"h4",align:"center",children:"User Profile"}),Object(x.jsxs)(V.a,{container:!0,children:[Object(x.jsx)(Nt,{setValues:l,values:o,classes:t,handleImageChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},{imageToUpload:e.target.files[0]}))},handleImageUpload:y}),Object(x.jsx)(Ut,{values:o,setValues:l,imgMenu:g,handleImageDelete:function(){return w()},handleProfileImage:function(){return k()}}),Object(x.jsx)(V.a,(e={item:!0},Object(G.a)(e,"item",!0),Object(G.a)(e,"xs",12),Object(G.a)(e,"md",6),Object(G.a)(e,"children",Object(x.jsx)(Lt,{classes:t,values:o,setValues:l,handleChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},Object(G.a)({},e.target.name,e.target.value)))},handleDetailsUpdate:N})),e))]})]})})},Bt=a(82),Tt=function(){var e=Ct(),t=Object(r.useState)({title:"",body:"",error:!1,loading:!1,success:!1}),a=Object(u.a)(t,2),n=a[0],s=a[1],c=n.title,i=n.body,o=n.error,l=n.loading,d=n.success,j=Object(r.useContext)(O).state.token,b=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(Object(h.a)(Object(h.a)({},n),{},{loading:!0})),e.prev=2,e.next=5,Be(j,c,i);case 5:if(a=e.sent,!(r=a.data).errors){e.next=11;break}return o=[],r.errors.map((function(e){return o.push(e.msg)})),e.abrupt("return",s(Object(h.a)(Object(h.a)({},n),{},{error:o,loading:!1,success:!1})));case 11:r.success&&s(Object(h.a)(Object(h.a)({},n),{},{title:"",body:"",error:!1,success:r.message,loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),s(Object(h.a)(Object(h.a)({},n),{},{success:!1,error:"An error accoured",loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(_.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)("div",{className:e.main,children:[Object(x.jsx)(Y.a,{className:e.heading,variant:"h5",align:"center",children:"Create a new blog"}),Object(x.jsx)(Y.a,{component:"div",align:"center",children:Object(x.jsxs)("form",{onSubmit:b,children:["string"===typeof o?Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:o}):"object"===typeof o?Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:o.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(d)return Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"success",children:d})}(),Object(x.jsx)(H.a,{onChange:function(e){return s(Object(h.a)(Object(h.a)({},n),{},{title:e.target.value}))},value:c,className:e.inputField,name:"username",label:"Enter the blog title",type:"text"}),Object(x.jsx)("div",{className:e.editorDiv,children:Object(x.jsx)(Bt.a,{apiKey:"2q2bdjlqnx7i6d0lbkldb695k5mgi3j1j7wfsx4y5prpnd4s",value:i,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |              alignleft aligncenter alignright alignjustify |              bullist numlist outdent indent | removeformat | help"},onEditorChange:function(e,t){s(Object(h.a)(Object(h.a)({},n),{},{body:e}))}})}),l?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{color:"primary",variant:"contained",type:"submit",children:"Submit Blog"})]})})]})})},At=function(e){var t=e.match,a=Ct(),n=Object(r.useState)({title:"",body:"",error:!1,loading:!0,success:!1}),s=Object(u.a)(n,2),c=s[0],i=s[1],o=c.title,l=c.body,d=c.error,j=c.loading,b=c.success,p=(c.active,Object(r.useContext)(O).state.token),m=t.params.id,g=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe(m);case 3:if(t=e.sent,!0!==(a=t.data).success){e.next=7;break}return e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,error:!1,title:a.post.title,body:a.post.body})));case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{success:!1,error:"An error accoured",loading:!1})));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=2,e.next=5,Te(p,m,o,l);case 5:if(a=e.sent,!(r=a.data).errors){e.next=11;break}return n=[],r.errors.map((function(e){return n.push(e.msg)})),e.abrupt("return",i(Object(h.a)(Object(h.a)({},c),{},{error:n,loading:!1,success:!1})));case 11:r.success&&i(Object(h.a)(Object(h.a)({},c),{},{title:"",body:"",error:!1,success:r.message,loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),i(Object(h.a)(Object(h.a)({},c),{},{success:!1,error:"An error accoured",loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[]),Object(x.jsx)(_.a,{maxWidth:"lg",className:a.root,children:Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Y.a,{className:a.heading,variant:"h5",align:"center",children:"Update Blog"}),Object(x.jsx)(Y.a,{component:"div",align:"center",children:Object(x.jsxs)("form",{onSubmit:f,children:["string"===typeof d?Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:d}):"object"===typeof d?Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:d.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(b)return Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"success",children:b})}(),Object(x.jsx)(H.a,{onChange:function(e){return i(Object(h.a)(Object(h.a)({},c),{},{title:e.target.value}))},value:o,className:a.inputField,name:"username",label:"Enter the blog title",type:"text"}),Object(x.jsx)("div",{className:a.editorDiv,children:Object(x.jsx)(Bt.a,{apiKey:"2q2bdjlqnx7i6d0lbkldb695k5mgi3j1j7wfsx4y5prpnd4s",value:l,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |              alignleft aligncenter alignright alignjustify |              bullist numlist outdent indent | removeformat | help"},onEditorChange:function(e,t){i(Object(h.a)(Object(h.a)({},c),{},{body:e}))},onInit:g})}),j?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{color:"primary",variant:"contained",type:"submit",children:"Update Blog"})]})})]})})},Ft=Object(j.a)((function(e){return{root:{margin:0,display:"flex",flexDirection:"column"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",minHeight:"400px",margin:e.spacing(4,"auto"),padding:"0 0 20px 0"},header:{margin:e.spacing(5,0),textAlign:"center",color:v.a[500],background:v.a[50]},body:Object(G.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(1)}),post:Object(G.a)({margin:e.spacing(3,0),padding:e.spacing(2,4)},e.breakpoints.down("xs"),{padding:e.spacing(2,1)}),hr:{borderColor:v.a[500],margin:e.spacing(3,0)},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline"}},buttonLink:{textDecoration:"none","&:hover":{textDecoration:"underline"}},flexDiv:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"left"},image:{height:"150px",marginLeft:"15px"},button:{margin:e.spacing(1,2),minWidth:"100px"},deleteButton:{margin:e.spacing(1,2),color:se.a[500]},updateButton:{margin:e.spacing(1,2),color:ce.a[500]}}})),Gt=function(e){var t=e.postedBy,a=e.classes,r=e.width,n=e.createdAt,s=e.post,c=t.images,i=t.username,l=t.email;return Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:a.image,src:c[0].url,alt:"could not show the image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(o.b,{style:{display:"flex",width:"fit-content"},className:a.link,to:"/public-user/".concat(i),children:Object(x.jsxs)(Y.a,{variant:r>600?"h5":"subtitle1",style:{overflowX:"auto",fontWeight:"600",marginLeft:"20px"},children:[i," /",Object(x.jsx)("span",{style:{color:"GrayText"},children:l})]})}),Object(x.jsxs)(Y.a,{variant:"h6",style:{fontWeight:"600",overflowX:"auto",margin:"10px 0 0 20px",color:"black"},children:[Object(x.jsx)("span",{style:{color:"GrayText",marginRight:"5px"},children:"Views:"}),s.views]}),Object(x.jsx)(Y.a,{variant:"subtitle1",style:{overflowX:"auto",fontWeight:"600",margin:"10px 0 0 20px",color:"GrayText"},children:Ve()(n).format("MMM Do YYYY")})]})]})},Mt=function(e){var t=e.post,a=e.values,r=e.displayDeleteError,n=e.postId,s=e.handleClose,c=e.handleDelete,i=Ft(),o=a.deleteLoading;return Object(x.jsx)(pe.a,{open:n===t._id,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)(me.a,{className:i.deleteDialog,children:[r(),Object(x.jsxs)(Re.a,{id:"alert-dialog-description",children:[Object(x.jsx)("h4",{style:{color:v.a[500]},children:"Are you sure you want to delete this blog?"}),Object(x.jsxs)("h3",{children:["Title: ",t.title]})]})]}),Object(x.jsx)(qe.a,{children:o?Object(x.jsx)(K,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(z.a,{onClick:s,children:"Disagree"}),Object(x.jsx)(z.a,{onClick:c,color:"primary",autoFocus:!0,children:"Agree"})]})})]})})},_t=function(e){var t=e.match,a=e.history,n=Ft(),s=t.params.id,c=Object(r.useContext)(O).state,i=c.user,o=c.token,l=Object(r.useState)({title:"",body:"",postedBy:"",error:!1,loading:!0,success:!1,deleteLoading:!1,deleteError:!1,post:""}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=j.title,m=j.body,g=j.error,f=j.loading,v=j.postedBy,y=j.post,w=j.deleteError,k=Object(r.useState)(window.innerWidth),N=Object(u.a)(k,2),C=N[0],S=N[1],D=function(){S(window.innerWidth)},E=Object(r.useState)(!1),I=Object(u.a)(E,2),W=I[0],U=I[1],L=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(h.a)(Object(h.a)({},j),{},{loading:!0})),e.prev=1,e.next=4,Fe(s);case 4:if(t=e.sent,!0!==(a=t.data).success){e.next=8;break}return e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{loading:!1,error:!1,title:a.post.title,body:a.post.body,post:a.post,postedBy:a.post.postedBy})));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{success:!1,error:"An error accoured",loading:!1})));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(F.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(h.a)(Object(h.a)({},j),{},{deleteLoading:!0})),e.prev=1,e.next=4,Ae(o,y._id);case 4:e.sent.data.success&&a.push("/"),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",b(Object(h.a)(Object(h.a)({},j),{},{deleteSuccess:!1,deleteError:"You are Unauthorized",deleteLoading:!1})));case 12:b(Object(h.a)(Object(h.a)({},j),{},{deleteSuccess:!1,deleteError:e.t0.response.data.message,deleteLoading:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){L()}),[]),Object(r.useEffect)((function(){return window.addEventListener("resize",D),function(){return window.removeEventListener("resize",D)}}),[]),Object(x.jsxs)(_.a,{maxWidth:"lg",className:n.root,children:[function(){if(g)return Object(x.jsx)(J.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:g})}(),f?Object(x.jsx)(K,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Y.a,{component:"div",className:n.main,children:[Object(x.jsx)(Y.a,{className:n.header,variant:C<600?"h6":"h4",children:p&&p}),Object(x.jsx)("div",{className:n.body,children:Object(x.jsx)(Y.a,{variant:"body1",children:m&&Object(Ye.a)(m)})}),Object(x.jsx)("hr",{className:n.hr}),Object(x.jsx)("div",{style:{marginBottom:"15px"},children:Object(x.jsx)(Gt,{postedBy:v,createdAt:y.createdAt,classes:n,width:C,post:y})}),Object(x.jsx)(nt,{classes:n,user:i,post:y,token:o,postId:W,handleClickOpen:function(){U(y._id)}})]}),Object(x.jsx)(Mt,{displayDeleteError:function(){if(w)return Object(x.jsx)(J.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:w})},values:j,post:y,postId:W,handleClose:function(){U(!1),b(Object(h.a)(Object(h.a)({},j),{},{deleteError:!1}))},handleDelete:P})]})]})},zt=Object(j.a)((function(e){var t;return{root:{margin:0,display:"flex"},main:{backgroundColor:"rgba(255, 255, 255, 0.9)",width:"100%",height:"fit-content",minHeight:"500px",border:"2px solid",margin:e.spacing(4,"auto"),padding:"0 0 20px 0",borderRadius:"1em"},heading:{margin:e.spacing(3,0)},image:(t={display:"flex",margin:"20px auto",border:"1px solid"},Object(G.a)(t,e.breakpoints.down("xs"),{maxWidth:"90%",maxHeight:"250px"}),Object(G.a)(t,e.breakpoints.up("sm"),{maxWidth:"95%",maxHeight:"350px",minHeight:"300px"}),Object(G.a)(t,"boxShadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px"),t),link:{textDecoration:"none",color:e.palette.primary.main,marginBottom:e.spacing(5),"&:hover":{color:e.palette.primary.dark}},flexDiv:{marginBottom:"30px",display:"flex",flexDirection:"column",margin:e.spacing(2)},textField:{margin:"10px"}}})),Ht=function(e){var t=e.profile,a=zt();return Object(x.jsx)(V.a,{item:!0,xs:12,md:6,children:Object(x.jsxs)("div",{className:a.flexDiv,children:[Object(x.jsx)("img",{className:a.image,src:t.images[0].url,alt:"Could not display image"}),Object(x.jsx)(Y.a,{variant:"h5",align:"center",className:a.textField,children:t.username}),Object(x.jsx)(Y.a,{variant:"h6",align:"center",className:a.textField,children:t.email}),Object(x.jsx)(Y.a,{variant:"body1",align:"center",className:a.textField,children:t.about})]})})},Vt=function(e){var t=e.profile,a=e.values,n=e.setValues,s=zt(),c=a.postsLoading,i=a.postsError,l=a.page,u=a.pages,d=a.posts,j=function(){var e=Object(F.a)(A.a.mark((function e(){var r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(h.a)(Object(h.a)({},a),{},{postsLoading:!0})),e.prev=1,e.next=4,Ge(t._id,l);case 4:r=e.sent,s=r.data,n(Object(h.a)(Object(h.a)({},a),{},{posts:s.posts,postsLoading:!1,pages:s.pages})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(h.a)(Object(h.a)({},a),{},{postsLoading:!1,postsError:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){window.scrollTo(0,0),j()}),[l]),Object(x.jsxs)(V.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(Y.a,{variant:"h6",align:"center",style:{color:"black",margin:"20px 0",backgroundColor:v.a[50]},children:"Recent Blogs"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:s.flexDiv,children:[function(){if(i)return Object(x.jsx)(J.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:i})}(),c?Object(x.jsx)(K,{}):d&&d.length>0&&d.map((function(e){return Object(x.jsxs)(o.b,{className:s.link,to:"/post/".concat(e._id),children:[Object(x.jsxs)(Y.a,{variant:"h6",children:[Object(x.jsx)("span",{style:{marginRight:"5px"},children:"Title: "}),e.title]},e._id),Object(x.jsxs)(Y.a,{variant:"body1",style:{color:"GrayText"},children:["Posted: ",Ve()(e.createdAt).fromNow()]})]})}))]}),Object(x.jsx)(ve,{page:l,pages:u,handlePageChange:function(e,t){n(Object(h.a)(Object(h.a)({},a),{},{page:t}))}})]})},Yt=function(e){var t=e.match,a=zt(),n=t.params.username,s=Object(r.useState)({profile:"",loading:!0,error:!1,page:"",pages:"",posts:[],postsError:!1,postsLoading:!1}),c=Object(u.a)(s,2),i=c[0],o=c[1],l=i.profile,d=i.error,j=i.loading,b=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(n);case 3:t=e.sent,(a=t.data).success&&o(Object(h.a)(Object(h.a)({},i),{},{loading:!1,profile:a.user})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(Object(h.a)(Object(h.a)({},i),{},{loading:!1,error:e.t0.response.data.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),Object(x.jsx)(_.a,{maxWidth:"lg",className:a.root,children:Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Y.a,{className:a.heading,variant:"h4",align:"center",children:"Public Profile"}),function(){if(d)return Object(x.jsx)(J.a,{style:{margin:"15px",width:"100%"},variant:"outlined",severity:"error",children:d})}(),j?Object(x.jsx)(K,{}):Object(x.jsxs)(V.a,{container:!0,children:[Object(x.jsx)(Ht,{profile:l}),Object(x.jsx)(Vt,{profile:l,values:i,setValues:o})]})]})})},Rt=a(245),qt=a(191),Kt=a(246),Jt=a(247),Xt=a(248),Qt=a(249),Zt=a(250),$t=a(260),ea=function(){var e=Ct(),t=Object(r.useContext)(O).state.user,a=Object(r.useState)({loading:!0,error:!1,page:"",pages:"",posts:[]}),n=Object(u.a)(a,2),s=n[0],c=n[1],i=s.loading,l=s.error,d=s.page,j=s.pages,b=s.posts,p=function(){var e=Object(F.a)(A.a.mark((function e(){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(h.a)(Object(h.a)({},s),{},{loading:!0})),e.prev=1,e.next=4,Ge(t._id,d,8);case 4:a=e.sent,r=a.data,c(Object(h.a)(Object(h.a)({},s),{},{posts:r.posts,loading:!1,pages:r.pages})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(Object(h.a)(Object(h.a)({},s),{},{loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){window.scrollTo(0,0),p()}),[d]);return Object(x.jsx)(_.a,{maxWidth:"lg",className:e.root,children:Object(x.jsxs)("div",{className:e.main,children:[Object(x.jsx)(Y.a,{className:e.heading,variant:"h5",align:"center",children:t&&"".concat(t.username,"'s Posts")}),function(){if(l)return Object(x.jsx)(J.a,{style:{margin:"20px"},variant:"outlined",severity:"error",children:l})}(),i?Object(x.jsx)(K,{}):Object(x.jsxs)(Rt.a,{component:qt.a,style:{padding:"10px 0"},children:[Object(x.jsxs)(Kt.a,{className:e.table,"aria-label":"simple table",children:[Object(x.jsx)(Jt.a,{children:Object(x.jsxs)(Xt.a,{children:[Object(x.jsx)(Qt.a,{align:"left",children:"Created At"}),Object(x.jsx)(Qt.a,{align:"left",children:"Title"}),Object(x.jsx)(Qt.a,{align:"left",children:"Views"}),Object(x.jsx)(Qt.a,{align:"left",children:"Likes"})]})}),Object(x.jsx)(Zt.a,{children:b&&b.length>0?b.map((function(t){return Object(x.jsxs)(Xt.a,{children:[Object(x.jsx)(Qt.a,{align:"left",children:Ve()(t.createdAt).format("MM Do YYYY")}),Object(x.jsx)(Qt.a,{align:"left",children:Object(x.jsx)($t.a,{title:t.title,children:Object(x.jsx)(o.b,{className:e.link,to:"/post/".concat(t._id),children:t.title.length>=20?t.title.substring(0,20)+"...":t.title})})}),Object(x.jsx)(Qt.a,{align:"left"}),Object(x.jsx)(Qt.a,{align:"left"})]},t._id)})):Object(x.jsx)(Xt.a,{children:Object(x.jsx)(Qt.a,{children:"No posts found..."})})})]}),Object(x.jsx)(ve,{page:d,pages:j,handlePageChange:function(e,t){c(Object(h.a)(Object(h.a)({},s),{},{page:t}))}})]})]})})},ta=a(127),aa=a.n(ta),ra=a(126),na=a.n(ra),sa=function(e){var t=e.forgotUsername,a=e.handleCloseForgotUsername,r=e.width,n=e.classes,s=e.fetchUsername,c=e.handleChange,i=e.values,o=e.displayUsername,l=e.displayUsernameError,u=i.email,j=i.loadingUsername;return Object(x.jsxs)(pe.a,{fullScreen:r<600,onClose:a,"aria-labelledby":"forgot-username",open:t,children:[r<600&&Object(x.jsx)(d.a,{className:n.appBar,children:Object(x.jsx)(y.a,{className:n.toolBar,children:Object(x.jsx)(he.a,{edge:"start",color:"inherit",onClick:a,"aria-label":"close",children:Object(x.jsx)(Oe.a,{})})})}),Object(x.jsx)(xe.a,{id:"forgot-username",children:Object(x.jsx)(Y.a,{variant:"h6",align:"center",children:"Did you forget your username?"})}),Object(x.jsxs)(me.a,{children:[Object(x.jsx)("p",{style:{color:"GrayText"},children:"Type your email address in order to see your username."}),Object(x.jsxs)("form",{onSubmit:s,children:[Object(x.jsx)(H.a,{variant:"standard",value:u,onChange:c,fullWidth:!0,id:"email",label:"Email Address",placeholder:"Your Email",name:"email"}),o(),l(),Object(x.jsx)(qe.a,{children:j?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{type:"submit",className:n.button,color:"primary",variant:"contained",fullWidth:!0,children:"Send"})})]})]})]})},ca=function(e){var t=e.width,a=e.classes,n=e.forgotPassword,s=e.handleCloseForgotPassword,c=Object(r.useState)({email:"",error:!1,loading:!1,success:!1}),i=Object(u.a)(c,2),o=i[0],l=i[1],j=o.email,b=o.error,p=o.loading,m=o.success,g=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.prev=2,e.next=5,Ee(j);case 5:if(a=e.sent,!(r=a.data).errors){e.next=11;break}return n=[],r.errors.map((function(e){return n.push(e.msg)})),e.abrupt("return",l(Object(h.a)(Object(h.a)({},o),{},{error:n,loading:!1,success:!1})));case 11:r.success&&l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:!1,success:r.message,email:""})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:e.t0.response.data.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(pe.a,{fullScreen:t<600,onClose:s,"aria-labelledby":"forgot-username",open:n,children:[t<600&&Object(x.jsx)(d.a,{className:a.appBar,children:Object(x.jsx)(y.a,{className:a.toolBar,children:Object(x.jsx)(he.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(x.jsx)(Oe.a,{})})})}),Object(x.jsx)(xe.a,{id:"forgot-username",children:Object(x.jsx)(Y.a,{variant:"h6",align:"center",children:"Did you forget your password?"})}),Object(x.jsxs)(me.a,{children:[Object(x.jsx)("p",{style:{color:"GrayText"},children:"Type your email address and we will send you password reset link."}),Object(x.jsxs)("form",{onSubmit:g,children:[Object(x.jsx)(H.a,{variant:"standard",value:j,onChange:function(e){l(Object(h.a)(Object(h.a)({},o),{},{email:e.target.value}))},fullWidth:!0,id:"email",label:"Email Address",placeholder:"Your Email",name:"email"}),"string"===typeof b?Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:b}):"object"===typeof b?Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:Object(x.jsx)("ul",{children:b.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})}):void 0,function(){if(m)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"success",children:m})}(),Object(x.jsx)(qe.a,{children:p?Object(x.jsx)(K,{}):Object(x.jsx)(z.a,{type:"submit",className:a.button,color:"primary",variant:"contained",fullWidth:!0,children:"Send"})})]})]})]})},ia=function(e){var t=e.history,a=M(),n=Object(r.useContext)(O).state,s=n.user,c=n.token,i=Object(r.useState)({email:"",usernameError:!1,username:"",loadingUsername:!1}),l=Object(u.a)(i,2),d=l[0],j=l[1],b=d.email,p=d.usernameError,m=d.username;s&&c&&t.push("/");var g=Object(r.useState)(window.innerWidth),f=Object(u.a)(g,2),v=f[0],y=f[1],w=function(){y(window.innerWidth)},k=Object(r.useState)(!1),N=Object(u.a)(k,2),C=N[0],S=N[1],D=Object(r.useState)(!1),E=Object(u.a)(D,2),I=E[0],W=E[1];Object(r.useEffect)((function(){return window.addEventListener("resize",w),function(){return window.removeEventListener("resize",w)}}),[]);var U=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!0})),e.prev=2,e.next=5,Se(b);case 5:a=e.sent,r=a.data,j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!1,usernameError:!1,username:"The username for this email is ".concat(r.username)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j(Object(h.a)(Object(h.a)({},d),{},{loadingUsername:!1,usernameError:e.t0.response.data.message,username:""}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(_.a,{maxWidth:"xs",className:a.root,children:[Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Y.a,{variant:"h6",align:"center",className:a.header,children:"Hello user how can we help you?"}),Object(x.jsxs)("div",{className:a.paper,children:[Object(x.jsx)(z.a,{onClick:function(){S(!0)},startIcon:Object(x.jsx)(na.a,{}),className:a.button,variant:"outlined",color:"secondary",fullWidth:!0,children:"I have forgot my username"}),Object(x.jsx)(z.a,{onClick:function(){W(!0)},startIcon:Object(x.jsx)(aa.a,{}),className:a.button,variant:"outlined",color:"secondary",fullWidth:!0,children:"I have forgot my password"})]}),Object(x.jsx)("footer",{className:a.footer,children:Object(x.jsx)(o.b,{className:a.link,to:"/login",variant:"body2",style:{marginLeft:"15px"},children:"Back to login"})})]}),Object(x.jsx)(sa,{handleCloseForgotUsername:function(){S(!1)},forgotUsername:C,width:v,classes:a,values:d,handleChange:function(e){j(Object(h.a)(Object(h.a)({},d),{},{email:e.target.value}))},fetchUsername:U,displayUsername:function(){if(m)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"info",children:m})},displayUsernameError:function(){if(p)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:p})}}),Object(x.jsx)(ca,{width:v,classes:a,forgotPassword:I,handleCloseForgotPassword:function(){W(!1)}})]})},oa=function(e){var t=e.match,a=M(),n=Object(r.useState)({loading:!1,error:!1,success:!1,message:"",password:"",confirmPassword:"",resetError:!1,resetSuccess:!1}),s=Object(u.a)(n,2),c=s[0],i=s[1],o=c.loading,l=c.error,d=c.success,j=c.password,b=c.confirmPassword,p=c.resetError,m=c.resetSuccess,g=t.params.resetPasswordToken,O=function(){var e=Object(F.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=1,e.next=4,Ie(g);case 4:t=e.sent,(a=t.data).success&&i(Object(h.a)(Object(h.a)({},c),{},{error:!1,loading:!1,success:a.success,message:a.message})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(Object(h.a)(Object(h.a)({},c),{},{success:!1,loading:!1,error:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){O()}),[]);var f=function(e){i(Object(h.a)(Object(h.a)({},c),{},Object(G.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(F.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(Object(h.a)(Object(h.a)({},c),{},{loading:!0})),e.prev=2,e.next=5,We(j,b,g);case 5:a=e.sent,(r=a.data).success&&i(Object(h.a)(Object(h.a)({},c),{},{loading:!1,resetError:!1,resetSuccess:r.message,password:"",confirmPassword:""})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),i(Object(h.a)(Object(h.a)({},c),{},{resetSuccess:!1,loading:!1,resetError:e.t0.response.data.message}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(_.a,{maxWidth:"xs",className:a.root,children:Object(x.jsxs)("div",{className:a.main,children:[Object(x.jsx)(Y.a,{variant:"h6",align:"center",className:a.header,children:"Password reset"}),o&&Object(x.jsx)(K,{}),function(){if(l)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:l})}(),d?Object(x.jsxs)("form",{className:a.paper,onSubmit:v,children:[function(){if(p)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"error",children:p})}(),function(){if(m)return Object(x.jsx)(J.a,{style:{margin:"15px 5px"},variant:"outlined",severity:"success",children:m})}(),Object(x.jsx)(H.a,{style:{margin:"10px 0"},variant:"standard",onChange:f,value:j,fullWidth:!0,name:"password",label:"New Password",type:"password"}),Object(x.jsx)(H.a,{style:{margin:"10px 0"},variant:"standard",onChange:f,value:b,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password"}),Object(x.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"confirm"})]}):null]})})},la=function(){var e=ut();return Object(x.jsxs)(o.a,{children:[Object(x.jsx)(pt,{}),Object(x.jsxs)(dt.a,{theme:bt,children:[Object(x.jsx)(i.a,{}),Object(x.jsx)(B,{}),Object(x.jsx)(l.d,{children:Object(x.jsxs)("main",{className:e.root,children:[Object(x.jsx)(l.b,{exact:!0,path:"/",component:ot}),Object(x.jsx)(l.b,{exact:!0,path:"/login",component:ae}),Object(x.jsx)(l.b,{exact:!0,path:"/cannot-login",component:ia}),Object(x.jsx)(l.b,{exact:!0,path:"/register",component:ne}),Object(x.jsx)(l.b,{exact:!0,path:"/password-reset/:resetPasswordToken",component:oa}),Object(x.jsx)(l.b,{exact:!0,path:"/post/:id",component:_t}),Object(x.jsx)(l.b,{exact:!0,path:"/public-user/:username",component:Yt}),Object(x.jsx)(xt,{exact:!0,path:"/private-profile",component:Pt}),Object(x.jsx)(xt,{exact:!0,path:"/new-post",component:Tt}),Object(x.jsx)(xt,{exact:!0,path:"/post-update/:id",component:At}),Object(x.jsx)(xt,{exact:!0,path:"/my-posts/:username",component:ea})]})})]})]})};a(189);c.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(f,{children:Object(x.jsx)(la,{})})}),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.f6f41ebf.chunk.js.map